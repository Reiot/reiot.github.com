
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>MSBuild with Cruise Control .Net - Social Reiot</title>
  <meta name="author" content="Ray Yun">

  
  <meta name="description" content="지속적인 통합(Continuous Integration)은 최근에 읽고 있는 책마다 항상 등장하는 단어다. 요약하자면 빌드 머신에 적당한 CI도구를 설치해두면 누가 커밋할 때마다 소스를 체크아웃해서 빌드하고 테스트를 실행한다는 것이다. 그러나, 우리 팀처럼 테스트...">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://reiot.com/2007/10/09/msbuild-with-cruise-control-net/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="http://s3.amazonaws.com/ender-js/jeesh.min.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Social Reiot" type="application/atom+xml">
  <!--Fonts from Google's Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>

</head>

<body  >
  <header role="banner"><hgroup>
  <h1><a href="/">Social Reiot</a></h1>
  
    <h2>Social Game Developer wandering in strange dungeon.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:reiot.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
<ul role=main-navigation>
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">MSBuild With Cruise Control .Net</h1>
    
    
      <p class="meta">
        





  



<time datetime="2007-10-09T08:39:53+09:00" pubdate  data-updated="true" >Oct 9<span>th</span>, 2007</time>
        
      </p>
    
  </header>


<div class="entry-content"><p><img class='' src='http://www.codeplex.com/ccstatistics/Project/FileDownload.aspx?DownloadId=19113' width='' height='' alt='' title=''></p>

<p><a href="http://kaistizen.net/EE/index.php/imaso/200605_continuous_integration.html/">지속적인 통합(Continuous Integration)</a>은 최근에 읽고 있는 책마다 항상 등장하는 단어다. 요약하자면 빌드 머신에 적당한 CI도구를 설치해두면 누가 커밋할 때마다 소스를 체크아웃해서 빌드하고 테스트를 실행한다는 것이다. 그러나, 우리 팀처럼 테스트가 거의 없고, 커밋 직전에 항상 최신 버전을 다운받아서 <strong>컴파일이 잘 되는지만</strong> 체크하는 정도의 통합 수준을 갖고 있는 조직에서는 그다지 효용성이 있어 보이지 않을 수 있다. (물론 빌드 안하고 커밋하는 개발자를 보유하고 있다면 이야기가 달라진다)  그런데 Cruise Control.Net을 사용하면 상상만 했던 <a href="http://reiot.cafe24.com/2007/09/28/ideal-build-system/">이상적인 빌드 시스템</a> 그 이상을 손쉽게 구현할 수 있다. 단순 배치 파일 실행에서부터, 소스코드 체크아웃은 물론, 버전 넘버를 붙이고, 빌드가 성공하면 소스 저장소에 태그를 붙이기도 하고, 웹기반의 히스토리 관리에서부터 위 그림에서 보이듯 그래프 기반의 뷰도 제공한다. 나아가서 일전에는 실패했던 MSN 연동도 된다!  시험삼아서 구글코드에 올려둔 <a href="http://code.google.com/p/raknet-wrapper/">raknet_wrapper</a> 프로젝트를 체크아웃받아서 빌드하는 스크립트를 만들어봤다.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
</pre></td><td class='code'><pre><code class='cpp'><span class='line'><span class="o">&lt;</span><span class="n">cruisecontrol</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>  <span class="o">&lt;</span><span class="n">workingDirectory</span><span class="o">&gt;</span><span class="nl">d:</span><span class="err">\</span><span class="n">works</span><span class="err">\</span><span class="n">ccnet</span><span class="o">&lt;/</span><span class="n">workingDirectory</span><span class="o">&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="n">artifactDirectory</span><span class="o">&gt;</span><span class="nl">d:</span><span class="err">\</span><span class="n">works</span><span class="err">\</span><span class="n">ccnet</span><span class="err">\</span><span class="n">artifact</span><span class="o">&lt;/</span><span class="n">artifactDirectory</span><span class="o">&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="n">modificationDelaySeconds</span><span class="o">&gt;</span><span class="mi">2</span><span class="o">&lt;/</span><span class="n">modificationDelaySeconds</span><span class="o">&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="n">triggers</span><span class="o">&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="n">intervalTrigger</span> <span class="n">seconds</span><span class="o">=</span><span class="s">&quot;10&quot;</span> <span class="o">/&gt;</span>
</span><span class='line'>  <span class="o">&lt;/</span><span class="n">triggers</span><span class="o">&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="n">sourcecontrol</span> <span class="n">type</span><span class="o">=</span><span class="s">&quot;svn&quot;</span><span class="o">&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="n">trunkUrl</span><span class="o">&gt;</span><span class="nl">https:</span><span class="c1">//raknet-wrapper.googlecode.com/svn/trunk/&lt;/trunkUrl&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="n">workingDirectory</span><span class="o">&gt;</span><span class="nl">d:</span><span class="err">\</span><span class="n">works</span><span class="err">\</span><span class="n">ccnet</span><span class="err">\</span><span class="n">build</span><span class="o">&lt;/</span><span class="n">workingDirectory</span><span class="o">&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="n">username</span><span class="o">&gt;----&lt;/</span><span class="n">username</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">----</span>
</span><span class='line'>
</span><span class='line'>  <span class="o">&lt;/</span><span class="n">sourcecontrol</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>  <span class="o">&lt;</span><span class="n">msbuild</span><span class="o">&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="n">workingDirectory</span><span class="o">&gt;</span><span class="nl">d:</span><span class="err">\</span><span class="n">works</span><span class="err">\</span><span class="n">ccnet</span><span class="err">\</span><span class="n">build</span><span class="o">&lt;/</span><span class="n">workingDirectory</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="n">raknet_wrapper</span><span class="p">.</span><span class="n">sln</span>
</span><span class='line'>
</span><span class='line'>  <span class="o">&lt;</span><span class="n">buildArgs</span><span class="o">&gt;/</span><span class="nl">p:</span><span class="n">Configuration</span><span class="o">=</span><span class="n">Release</span>  <span class="o">/</span><span class="nl">v:</span><span class="n">diag</span><span class="o">&lt;/</span><span class="n">buildArgs</span><span class="o">&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="n">targets</span><span class="o">&gt;</span><span class="n">Rebuild</span><span class="o">&lt;/</span><span class="n">targets</span><span class="o">&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="n">logger</span><span class="o">&gt;</span><span class="nl">d:</span><span class="err">\</span><span class="n">works</span><span class="err">\</span><span class="n">ccnet</span><span class="err">\</span><span class="n">ThoughtWorks</span><span class="p">.</span><span class="n">CruiseControl</span><span class="p">.</span><span class="n">MsBuild</span><span class="p">.</span><span class="n">dll</span><span class="o">&lt;/</span><span class="n">logger</span><span class="o">&gt;</span>
</span><span class='line'>  <span class="o">&lt;/</span><span class="n">msbuild</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>  <span class="o">&lt;</span><span class="n">tasks</span><span class="o">&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="n">msbuild</span><span class="o">&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="n">workingDirectory</span><span class="o">&gt;</span><span class="nl">d:</span><span class="err">\</span><span class="n">works</span><span class="err">\</span><span class="n">ccnet</span><span class="err">\</span><span class="n">build</span><span class="o">&lt;/</span><span class="n">workingDirectory</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="n">raknet_wrapper</span><span class="p">.</span><span class="n">sln</span>
</span><span class='line'>
</span><span class='line'>  <span class="o">&lt;</span><span class="n">buildArgs</span><span class="o">&gt;/</span><span class="nl">p:</span><span class="n">Configuration</span><span class="o">=</span><span class="n">Release</span> <span class="o">/</span><span class="nl">v:</span><span class="n">diag</span><span class="o">&lt;/</span><span class="n">buildArgs</span><span class="o">&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="n">targets</span><span class="o">&gt;</span><span class="n">Build</span><span class="o">&lt;/</span><span class="n">targets</span><span class="o">&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="n">logger</span><span class="o">&gt;</span><span class="nl">d:</span><span class="err">\</span><span class="n">works</span><span class="err">\</span><span class="n">ccnet</span><span class="err">\</span><span class="n">ThoughtWorks</span><span class="p">.</span><span class="n">CruiseControl</span><span class="p">.</span><span class="n">MsBuild</span><span class="p">.</span><span class="n">dll</span><span class="o">&lt;/</span><span class="n">logger</span><span class="o">&gt;</span>
</span><span class='line'>  <span class="o">&lt;/</span><span class="n">msbuild</span><span class="o">&gt;</span>
</span><span class='line'>  <span class="o">&lt;/</span><span class="n">tasks</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>  <span class="o">&lt;</span><span class="n">xmllogger</span>  <span class="o">/&gt;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;/</span><span class="n">cruisecontrol</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>기능을 정리해보자면  * 10초마다 최신 소스가 커밋되어있는지 체크 * 최초 실행시 리빌드 * MSBuild 와의 연동  정도에 불과하다. 아직 IIS를 설치해보질 못해서 웹 대시보드를 구경해보진 못했다. 이 정도랑 웹에서 빌드 버튼만 제공하면 사내 빌드 머신에 빨리 도입해봐야겠다.  참고자료:</p>

<ul>
<li><a href="http://kaistizen.net/EE/index.php/imaso/200605_continuous_integration.html/">[Step by Step] 지속적인 통합(Continuous Integration)</a> -  마이크로소프트웨어 2006년 5월 컬럼</li>
<li><a href="http://kaistizen.net/EE/index.php/weblog/comments/continuous_integration_for_visual_c/">Visual C++을 위한 지속적인 통합 빌드 서버</a></li>
</ul>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Ray Yun</span></span>

      





  



<time datetime="2007-10-09T08:39:53+09:00" pubdate  data-updated="true" >Oct 9<span>th</span>, 2007</time>
      


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://reiot.com/2007/10/09/msbuild-with-cruise-control-net/" data-via="reiot" data-counturl="http://reiot.com/2007/10/09/msbuild-with-cruise-control-net/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
</div>

    
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2011/09/21/wordpress-to-octopress/">Wordpress To Octopress</a>
      </li>
    
      <li class="post">
        <a href="/2011/07/09/jquery-proven-performance-tips-tricks/">jQuery Proven Performance Tips &amp; Tricks</a>
      </li>
    
      <li class="post">
        <a href="/2011/06/18/jquery-mobile-tip/">jQuery Mobile Tip</a>
      </li>
    
      <li class="post">
        <a href="/2011/06/18/clienpad-appspot-com/">clienpad.appspot.com</a>
      </li>
    
      <li class="post">
        <a href="/2011/04/15/ant-cookbook/">Ant Cookbook</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Github Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/reiot">@reiot</a> on Github
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'reiot',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("reiot", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/reiot" class="twitter-follow-button" data-width="208px" data-show-count="false">Follow @reiot</a>
  
</section>




  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2011 - Ray Yun -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
    (function () {
      var disqus_shortname = 'reiot';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://reiot.com/2007/10/09/msbuild-with-cruise-control-net/';
        var disqus_url = 'http://reiot.com/2007/10/09/msbuild-with-cruise-control-net/';
        var disqus_script = 'embed.js'
      

      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>


  

  
  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>


  
  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>


</body>
</html>
