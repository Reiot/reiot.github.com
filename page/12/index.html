<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8">
	<title>Rebooting Reiot</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="A social game developer wandering strange dungeons...">
	<meta name="author" content="Ray Yun">

    <!-- Le styles -->
	
    <link href="/assets/css/bootstrap.min.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
        font-family: 'Helvetica Neue', '맑은 고딕', Helvetica, Arial, sans-serif;
      }
      .tag-cloud, .category-cloud {
        line-height: 250%;
      }
    </style>
    <link href="/assets/css/bootstrap-responsive.min.css" rel="stylesheet">
	

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/assets/ico/favicon.ico">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="/assets/ico/apple-touch-icon-57-precomposed.png">
  </head>

  <body>

    <div class="navbar navbar-fixed-top navbar-inverse">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/">Rebooting Reiot</a>
          <div class="nav-collapse">
            <ul class="nav">
              <li class="active"><a href="/">Home</a></li>
              <li><a href="/archives/">Archives</a></li>
              <li><a href="/category/">Categories</a></li>
              <li><a href="/tag/">Tags</a></li>
			  
            </ul>
            <form class="navbar-search pull-left">
              <input type="text" class="search-query" placeholder="Title Search">
            </form>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

	
<div class="container">

	

	<div class="row">
		<div class="span9">
			
				<div>
	<div class="page-header">
		<h1><a href="/2009/01/27/change-the-battle-field/">Change the Battle Field</a> <small>2009-01-27</small></h1>
	</div>
	<div><p>MS, Google, Intel, IBM, Adobe, Dell, Sony, Sanyo... <a href="http://itviewpoint.com/98855">놀라운 감원 쯔나미</a>는 겨우 시작일 뿐이다.</p>
<p>성장 동력이 없거나 멈춘 국내 게임 회사들이, 직원 월급을 못주고 있다는 첩보가 속속 입수되고 있다.  정말 <a href="http://reiot.cafe24.com/2008/11/16/prepare-the-battle/">대충 예상해본 것</a>들이 슬슬 현실로 다가 오고 있다는 이야기다. 그나마 반가운 소식은 <a href="http://qu2ik.tistory.com/297">게임이 불황에도 웃음지을 수 있는 몇 안되는 산업이라는 뉴스 </a>정도다.  </p>
<p>혹자는 힘들 때일수록 몸집을 줄이고 직원 교육에 투자하라고 조언하지만, 내가 사장이라도 그건 쉽지 않은 일이다.  마구 사람을 잘라내고 있는 서구 기업들은 과연 바보라서 그러는 걸까. 그럼 우리는 이 추운 겨울을 어떻게 견디어내야 할까? 개인적으로도 <a href="http://blog.daum.net/tudler/15659618">선 거두절미 후 줄탁동시</a>를 시행해야 한다고 본다. 즉,</p>
<pre><code>- 무엇보다도 가장 먼저 바보 C급 인재들을 내보낸다. 기회 비용을 고려해 봤을 때, 무작정 열심히 일하는 C급 인재야말로 회사의 최대 적이다. 덤으로 불만분자들도 함께 처분하면 더욱 좋다. (뜨끔!!)
- A급 리더들은 쓰다듬어주기만 해도 알아서 잘 할테니, 웅크리고 있는 B급 인재들에게는 인센티브 강화 같은 당근과 **** 등의 채찍을 제공한다. 개인적으로 테라의 공개된 영상에 많은 감명을 받았는데, 외부의 공격(?)이 내부의 결속을 강화시킨 좋은 예가 아닐까 한다. 
- 돈, 지식, 노하우, 그리고 열정적인 핵심 인재들 등 축적할 수 있는 모든 리소스들을 아껴서, 더욱 더 길어질 겨울에 대비한다. 아무리 생각해도, 이번 겨울은 10년짜리다. 
- 부동산 난개발과 같은 불필요한 중복 개발을 자제하고, 제대로된 게임을 최대한 빨리 출시할 수 있는 프로세스를 다진다. 이걸 갖춘 회사만이 10년을 살아남을 게다. 결과적으로 개발을 투명하게 바라볼 수 있게 해주는, 애자일 프로세스의 전사적 도입도 좋은 방법이 되겠지만, 준비되지 않은 상태에서는 오히려 반감만 불러일으킬 확률이 99.999% 되겠다.
- 무엇보다도 전장 플랫폼을 바꾼다. 살아남는 자가 강한 것처럼, 하고 싶어 하는 것보다는 잘하는 분야를 계속 파나가고, 그걸 다른 플랫폼으로 옮겨가는 전략은 어떨까. 돈먹는 하마인 MMO, 다 비슷비슷한 캐주얼, 횡스크롤 액션..  새로운 성장 동력 찾기가 쉽지 않은 건 알고 있는데, 너무 멀리서 찾다가 피같은 돈을 다 날려먹으면 곤란하다. 물론 와우를 능가하는 MMO를 만들어서 년간 1조씩 벌어들여도 되겠지만.
</code></pre>
<p>뻔한 이야기를 시니컬하게 쓰면 다들 우러러 보는 게 요즘 트렌드이길래, 나도 덩달아서 비스무리하게 써 봤다. 그러나 요즘은 불유쾌한 예언을 하는 자가 잡혀 들어가는 세상인지라, 또 쓸데없이 오해 크리나 받지나 않을까 해서 고이 모셔뒀었는데, 오늘 또<a href="http://news.bbc.co.uk/2/hi/business/7851481.stm"> ING 7천, 필립스 6천, GM 2천 등 총 7만명짜리 GLOBAL JOB CUTS</a> 이 있었다길래 어째 으스스해서 공개해본다.</p></div>
	<br />
	<p>
	
	
	</p>
</div>
			
				<div>
	<div class="page-header">
		<h1><a href="/2009/01/20/boost-tuple-based-serialization/">boost tuple based serialization</a> <small>2009-01-20</small></h1>
	</div>
	<div><p>boost serialization를 사용하려면 이모저모로 귀찮은 점이 많아서, 생각해본 것이 <a href="http://docs.python.org/library/struct.html?highlight=pack">파이썬의 struct 라이브러리</a>와 같은 느낌으로 프로토콜 포맷을 정의하고, 이걸 boost tuple 코드로 뽑아낸다는 아이디어이다.</p>
<p>대강의 포맷은<br />
<table border="1" cellspacing="0" cellpadding="1"><br />
<tbody></tbody><br />
<thead><br />
<tr><br />
<th class="head">Format</th><br />
<th class="head">C Type</th><br />
<th class="head">Python</th><br />
<th class="head">Notes</th><br />
</tr><br />
</thead><br />
<tbody><br />
<tr><br />
<td><tt class="docutils literal">x</tt></td><br />
<td>pad byte</td><br />
<td>no value</td><br />
<td> </td><br />
</tr><br />
<tr><br />
<td><tt class="docutils literal">c</tt></td><br />
<td><tt class="xref docutils literal">char</tt></td><br />
<td>string of length 1</td><br />
<td> </td><br />
</tr><br />
<tr><br />
<td><tt class="docutils literal">b</tt></td><br />
<td><tt class="xref docutils literal">signed char</tt></td><br />
<td>integer</td><br />
<td> </td><br />
</tr><br />
<tr><br />
<td><tt class="docutils literal">B</tt></td><br />
<td><tt class="xref docutils literal">unsigned char</tt></td><br />
<td>integer</td><br />
<td> </td><br />
</tr><br />
<tr><br />
<td><tt class="docutils literal">?</tt></td><br />
<td><tt class="xref docutils literal">_Bool</tt></td><br />
<td>bool</td><br />
<td>(1)</td><br />
</tr><br />
<tr><br />
<td><tt class="docutils literal">h</tt></td><br />
<td><tt class="xref docutils literal">short</tt></td><br />
<td>integer</td><br />
<td> </td><br />
</tr><br />
<tr><br />
<td><tt class="docutils literal">H</tt></td><br />
<td><tt class="xref docutils literal">unsigned short</tt></td><br />
<td>integer</td><br />
<td> </td><br />
</tr><br />
<tr><br />
<td><tt class="docutils literal">i</tt></td><br />
<td><tt class="xref docutils literal">int</tt></td><br />
<td>integer</td><br />
<td> </td><br />
</tr><br />
<tr><br />
<td><tt class="docutils literal">I</tt></td><br />
<td><tt class="xref docutils literal">unsigned int</tt></td><br />
<td>integer or long</td><br />
<td> </td><br />
</tr><br />
<tr><br />
<td><tt class="docutils literal">l</tt></td><br />
<td><tt class="xref docutils literal">long</tt></td><br />
<td>integer</td><br />
<td> </td><br />
</tr><br />
<tr><br />
<td><tt class="docutils literal">L</tt></td><br />
<td><tt class="xref docutils literal">unsigned long</tt></td><br />
<td>long</td><br />
<td> </td><br />
</tr><br />
<tr><br />
<td><tt class="docutils literal">q</tt></td><br />
<td><tt class="xref docutils literal">long long</tt></td><br />
<td>long</td><br />
<td>(2)</td><br />
</tr><br />
<tr><br />
<td><tt class="docutils literal">Q</tt></td><br />
<td><tt class="xref docutils literal">unsigned long<br />
long</tt></td><br />
<td>long</td><br />
<td>(2)</td><br />
</tr><br />
<tr><br />
<td><tt class="docutils literal">f</tt></td><br />
<td><tt class="xref docutils literal">float</tt></td><br />
<td>float</td><br />
<td> </td><br />
</tr><br />
<tr><br />
<td><tt class="docutils literal">d</tt></td><br />
<td><tt class="xref docutils literal">double</tt></td><br />
<td>float</td><br />
<td> </td><br />
</tr><br />
<tr><br />
<td><tt class="docutils literal">s</tt></td><br />
<td><tt class="xref docutils literal">char[]</tt></td><br />
<td>string</td><br />
<td> </td><br />
</tr><br />
<tr><br />
<td><tt class="docutils literal">p</tt></td><br />
<td><tt class="xref docutils literal">char[]</tt></td><br />
<td>string</td><br />
<td> </td><br />
</tr><br />
<tr><br />
<td><tt class="docutils literal">P</tt></td><br />
<td><tt class="xref docutils literal">void *</tt></td><br />
<td>long</td><br />
<td> </td><br />
</tr><br />
</tbody></table><br />
가령 로그인 메시지를 "ppl" 이라는 포맷으로 정의하면, 파서는 이걸 읽고</p>
<p>typedef boost::tuple<string,string,long> msgLogin;</p>
<p>이라는 클래스를 정의한다는 거다. 요기에 좀 더 기능을 첨부하자면,</p>
<pre><code>- 64 bit integer
- datetime, smalldatetime 등 T-SQL 타입 지원(또는 매핑)
- STL 지원 : list, vector, map, set
- 비트 연산 지원 : B3은 바이트 타입인데 3비트만 읽고 쓴다는 뜻이 된다.
</code></pre>
<p>단점이라면 내부 멤버 접근을 userid, passwd 같은 이름 기반이 아니라 get&lt;1&gt;, get&lt;2&gt; 처럼 해야 한다는 점인데, 이건 좀 심하게 귀찮긴 하겠다. 역시 이름 기반 접근이 그나마 컴파일러가 검증해주니 제일 좋은 방법인가.</p>
<p>자. 만들어주세요.</p></div>
	<br />
	<p>
	
	
		<a href="/tag/boost/"><span class="label"><span class="icon icon-tag"></span> boost</span></a>
	
	</p>
</div>
			
				<div>
	<div class="page-header">
		<h1><a href="/2009/01/18/erlangotp-udp-server/">Erlang/OTP UDP Server</a> <small>2009-01-18</small></h1>
	</div>
	<div><p>얼랭으로 만든, 가장 단순한 UDP Echo 서버와 클라이언트는 이렇게 생겨먹었다. (워드프레스에서 들여쓰기가 자꾸 날아가는 버그가 있으므로, 귀찮아서 고치지는 않겠다.)</p>
<pre><code>
-module(udp_server).
-compile(export_all).

init(ServerPort) -&gt;
{ok, Sock} = gen_udp:open(ServerPort,[binary,inet]),
loop().

loop() -&gt;
io:format(&quot;server_loop~n&quot;),
receive
{udp, Sock, ClientIP, ClientPort, Packet } -&gt;
io:format(&quot;~p:~p ==&gt; ~p~n&quot;,[ClientIP,ClientPort,Packet]),
ok = gen_udp:send(Sock,ClientIP,ClientPort,Packet),
loop()
end.
</code></pre>

<pre><code>
-module(udp_client).
-compile(export_all).

init(ServerPort) -&gt;
{ok, Sock} = gen_udp:open(0),
gen_udp:send(Sock,&quot;localhost&quot;,ServerPort,&quot;Hello World!&quot;),
loop().

loop() -&gt;
io:format(&quot;waiting response...~n&quot;),
receive
{udp, Peer, PeerIP, PeerPort, Packet } -&gt;
io:format(&quot;~p:~p ==&gt; ~p~n&quot;,[PeerIP,PeerPort,Packet])
after 1000 -&gt;
io:format(&quot;timeout..~n&quot;)
end.

</code></pre>

<p>여기에서 바로 OTP로 만들겠다고 뛰어들었다가 삽질을 한 후,  <a href="http://www.trapexit.org/Building_a_Non-blocking_TCP_server_using_OTP_principles">Building_a_Non-blocking_TCP_server_using_OTP_principles</a> 와 <a href="http://erlrtpproxy.googlecode.com/svn-history/r19/trunk/rtpproxy.erl">구글에서 검색한 gen_udp 예제</a>을 참고해서 겨우 성공한 게 다음의 코드이다.</p>
<pre><code>
-module(udp_otp_server).
-compile(export_all).

% stand-alone server version
start() -&gt;
gen_server:start({local, ?MODULE}, ?MODULE, [], []).

% supervision tree version
start_link() -&gt;
gen_server:start_link({local, ?MODULE}, ?MODULE, [], []).

init([]) -&gt;
process_flag(trap_exit,true),
{ok, Sock} = gen_udp:open(1111,[binary,inet]),
io:format(&quot;udp server started...~n&quot;),
{ok,0}.

handle_call(Request, From, State) -&gt;
io:format(&quot;~p~n&quot;,[Request]),
{noreply,State}.

handle_cast(_Msg,State) -&gt;
io:format(&quot;handle_cast(~p)~n&quot;,_Msg),
{noreply, State}.

%% udp message should be handled here
handle_info({udp,Sock, ClientIP, ClientPort, Packet}, State) -&gt;
io:format(&quot;~p:~p ==&gt; ~p~n&quot;,[ClientIP,ClientPort,Packet]),
ok = gen_udp:send(Sock,ClientIP,ClientPort,Packet),
{noreply, State}
;

handle_info(_Info,State) -&gt;
io:format(&quot;handle_info~n&quot;),
{noreply, State}.

terminate(_Reason,N) -&gt;
io:format(&quot;stopping...~n&quot;),
ok.
code_change(_OldVsn,N, _Extra) -&gt; {ok,N}.

</code></pre>

<p>핵심 요지는, UDP 메시지는 handle_call 이나 cast 가 아니라, handle_info에서 처리해야 한다는 점이다. 요즘 <strong>업.무.가. 바.빠.서.</strong> 얼랭을 3주 정도 못봤는데 또 서서히 기억이 소멸하기 시작했다. OTP에서는 함수의 리턴값 규칙을 정말 잘 맞춰야 하는 관계로, 다음 번부터는 gen_server 템플릿 하나 정도는 갖고 시작해야겠다.</p></div>
	<br />
	<p>
	
		<a href="/category/programming/"><span class="label label-info"><span class="icon icon-folder-open"></span> programming</span></a>
	
	
		<a href="/tag/erlang/"><span class="label"><span class="icon icon-tag"></span> erlang</span></a>
	
	</p>
</div>
			
				<div>
	<div class="page-header">
		<h1><a href="/2009/01/12/teamcide/">Teamcide</a> <small>2009-01-12</small></h1>
	</div>
	<div><div>

[caption id="" align="alignnone" width="478" caption="Micro management (from conveniencebits.com)"]<a href="http://conveniencebits.com/2008/07/25/micromanaging-is-positive/">![Micromanagement](http://conveniencebits.com/pics/micromanage.jpg)</a>[/caption]

</div>

<div>Teamcide는 최근에 구독을 시작한 [코딩 호러](http://www.codinghorror.com/)의 [마이크로매니지먼트 좀비](http://www.codinghorror.com/blog/archives/001205.html)라는 글에서 발견한 7가지 팀관리의 안티 패턴이다. 알고 보니 피플웨어에서 소개된 이야기라고 해서 책을 찾아보려고 했는데, 어딘가에 쳐박혀 있는지 책이 보이지 않아, [일본어 웹문서 번역](http://translate.google.com/translate?prev=&hl=ko&ie=UTF-8&u=http://yuuntim.fc2web.com/chapter20.html&sl=auto&tl=ko&history_state0=)을 통해서 짤막하게만 정리해본다.</div>

<div>

    - 자기 방어적인 관리(Defensive Management)
    - 관료주의(Bureaucracy)
    - 팀원들을 여기 저기로 흩어 놓아서, 이동 거리를 멀게 하기(Physical Separation)
    - 한 명에게 여러 가지 작업을 시키기(Fragmentation of People's Time)
    - 납기일을 위해 품질을 희생하기(Quality Reduction of the Product)
    - 무의미한, 또는 가짜 데드라인(Phony Deadlines)
    - 파벌이 무서워서 프로젝트 종료 후 팀을 해체하기(Clique Control)

</div>

<p>거리 이야기는 이제 상식 수준이고, 마지막 파벌 이야기는 좀 비현실적이긴 한데, 가짜 데드라인 같은 이야기는 나도 종종 유혹을 느꼈기에, 이 시간을 빌어 씁쓸한 반성을 해본다.</p>
<p>때로는 빠른 의사 결정과 그에 따른 무한한 책임을 지는 <a href="http://seoworld.net/tt/261">잡스 같은 카리스마적인 독재자</a>와 일해보고 싶기도 하다. 다만, 거의 무개념 폭군이라는 이미지가 강한 초기의 잡스보다는, 이제 필 쉴러 아저씨에게 키노트 진행을 양보(?)한 최근의 잡스가 더 나을 것 같다.</p></div>
	<br />
	<p>
	
		<a href="/category/gamedev/"><span class="label label-info"><span class="icon icon-folder-open"></span> gamedev</span></a>
	
	
		<a href="/tag/management/"><span class="label"><span class="icon icon-tag"></span> management</span></a>
	
	</p>
</div>
			
				<div>
	<div class="page-header">
		<h1><a href="/2009/01/07/redmine/">Redmine</a> <small>2009-01-07</small></h1>
	</div>
	<div><p><a href="http://www.redmine.org/screenshots/gantt.png"><img alt="http://www.redmine.org/screenshots/gantt_tn.png" src="http://www.redmine.org/screenshots/gantt_tn.png" /></a></p>
<p><a href="http://bitnami.org/stack/mantis">bitnami mantis</a> 는 한글이 안되고, trac은 뭔가 플러그인 설치가 귀찮아서, 아<a href="http://www.redmine.org/wiki/redmine/Features">름다운 간트 차트</a>도 지원하는  <a href="http://bitnami.org/stack/redmine">bitnami redmine </a>을 써보기로 했다. (<a href="http://twiny.tistory.com/1676">twiny 님</a> 감사~)</p>
<p>평소대로라면 최신 버전(0.8)을 위해 ruby 와 rails 부터 설치했겠지만, 이런 삽질은 꿈도 못 꿀 정도로 바빠서, 그냥 0.7 버전을 마음 편하게 깔아버렸다. 한글 문제(이슈, 파일 업로드)는 전혀 없었고, SMTP와 https svn 저장소 연결만 남은 상태인데, 각각 한번씩 해보고 연결이 안되길래 과감하게 포기했다. 참고로, <a href="http://www.redmine.org/wiki/redmine/ThemeBasecamp">베이스캠프 테마</a>를 설치하면 mantis 보다 100배 미려한 화면을 볼 수 있다. :)</p>
<p>아쉬운 점이라면 위키 포맷이 익숙치 않은 textile 이라는 점과, 이미 <a href="http://www.gtdinbox.com/">GTDinbox </a>에 적응해버렸다는 정도. 그러고보니 GTD를 지원하는 이슈 관리 시스템은 없을까나~</p>
<p>ps. 드디어 SQL 2005 스키마의 개별 객체들을 <a href="http://www.sqlservercentral.com/articles/Administering/2896/">각각 SQL 로 추출해주는 방법</a>을 찾았다. 소스 코드르 다운받아서 약간만 수정해주면 SQL  스키마의 버전 관리는 끝!</p></div>
	<br />
	<p>
	
		<a href="/category/gamedev/"><span class="label label-info"><span class="icon icon-folder-open"></span> gamedev</span></a>
	
	
		<a href="/tag/redmine/"><span class="label"><span class="icon icon-tag"></span> redmine</span></a>
	
	</p>
</div>
			
			<ul class="pager">
			
			  	<li class="previous">
			    	<a href="/page/13/">&larr; Older</a>
			  	</li>
		  	
		  	
				<li class="next">
					<a href="/page/13">Newer &rarr;</a>
				</li>
		  	
			</ul>
		</div>
		<div class="span3">
			<ul class="nav nav-list well dsq-widget">
	<li class="nav-header">
		Recent Posts
	</li>
	
	<li>
		<a href="/2009/01/27/change-the-battle-field/">Change the Battle Field</a>
	</li>
	
	<li>
		<a href="/2009/01/20/boost-tuple-based-serialization/">boost tuple based serialization</a>
	</li>
	
	<li>
		<a href="/2009/01/18/erlangotp-udp-server/">Erlang/OTP UDP Server</a>
	</li>
	
	<li>
		<a href="/2009/01/12/teamcide/">Teamcide</a>
	</li>
	
	<li>
		<a href="/2009/01/07/redmine/">Redmine</a>
	</li>
	
	<li class="nav-header dsq-widget-title">
		Recent Comments
	</li>
	<script type="text/javascript" src="http://reiot.disqus.com/recent_comments_widget.js?num_items=5&hide_avatars=0&avatar_size=32&excerpt_length=200"></script>
</ul>
		</div>
	</div>

	<footer>
	<p class="pull-right">
		<a href="http://github.com/Reiot/droppress" class="btn btn-success btn-mini">powered by DropPress 0.0.1</a>
	</p>
</footer>

</div> <!-- /container -->


    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
	
    <script src="/assets/js/jquery.js"></script>
    <script src="/assets/js/bootstrap.min.js"></script>
    <script src="/assets/js/title_search.js"></script>
	

  
  <script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-247024-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

  </script>
  

  </body>
</html>