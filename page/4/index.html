<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
	<title>Rebooting Reiot</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="Social Game Developer wandering strange dungeon...">
	<meta name="author" content="Ray Yun">

    <!-- Le styles -->
	
    <link href="/assets/css/bootstrap.min.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
      }
    </style>
    <link href="/assets/css/bootstrap-responsive.min.css" rel="stylesheet">
	

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/assets/ico/favicon.ico">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="/assets/ico/apple-touch-icon-57-precomposed.png">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/">Rebooting Reiot</a>
          <div class="nav-collapse">
            <ul class="nav">
              <li class="active"><a href="/">Home</a></li>
              <li><a href="/archives/">Archives</a></li>
              <li><a href="/category/">Categories</a></li>
              <li><a href="/tag/">Tags</a></li>
			  
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

	
<div class="container">

	<div class="row">
		<div class="span9">
			
				<article>
	<div class="page-header">
		<h1><a href="/2011/01/12/haveappserver-vs-onproductionserver/">have_app_server vs. on_production_server</a> <small>2011-01-12</small></h1>
	</div>
	<div><p>사실 하고 싶은 건, (app id, on production server) 조합으로 적합한 facebook setting 을 로딩하는 건데.. 웬지 잘 안되었던 것 같은 느낌 :)</p>
<pre><code>from google.appengine.api import apiproxy_stub_map
import os
have_appserver = bool(apiproxy_stub_map.apiproxy.GetStub('datastore_v3'))
on_production_server = have_appserver and \
  not os.environ.get('SERVER_SOFTWARE', '').lower().startswith('devel')
</code></pre></div>
	
	<p>
	
		<a href="/tag/django-norel/"><span class="label">django-norel</span></a>
	
		<a href="/tag/appengine/"><span class="label">appengine</span></a>
	
		<a href="/tag/django/"><span class="label">django</span></a>
	
	</p>
	
</article>
			
				<article>
	<div class="page-header">
		<h1><a href="/2011/01/04/git-tips/">Git Tips</a> <small>2011-01-04</small></h1>
	</div>
	<div><h3>git ignore</h3>
<p><a href="http://github.com/guides/ignore-for-git">http://github.com/guides/ignore-for-git</a></p>
<p>pull 할 때 다음 에러가 뜰 경우</p>
<pre><code>You asked me to pull without telling me which branch you
want to merge with, and ‘branch.master.merge’ in
your configuration file does not tell me either. Please
specify which branch you want to merge on the command line and
try again (e.g. ‘git pull ‘).
See git-pull(1) for details.

If you often merge with the same branch, you may want to
configure the following variables in your configuration
file:

branch.master.remote =
branch.master.merge =
remote..url =
remote..fetch =

See git-config(1) for details.
</code></pre>

<p>git config -l 로 살펴보면 이미 remote 들은 등록이 되어 있다. 여기서 할 일은 branch master 를 설정하는 거다.</p>
<pre><code>git config branch.master.remote origin
git config branch.master.merge refs/heads/master
</code></pre>

<p>이걸 해주면 된다. via <a href="http://stackoverflow.com/questions/2335343/how-to-tell-git-to-always-pull-the-master-branch">http://stackoverflow.com/questions/2335343/how-to-tell-git-to-always-pull-the-master-branch</a></p>
<h3>작업한 모든 파일을 버리고 이전 버전으로 되돌리고 싶을 때</h3>
<blockquote>
<p>git reset --hard HEAD</p>
</blockquote>
<p>변경된 모든 파일을 HEAD 버전으로 복구한다. </p>
<blockquote>
<p>git clean -f</p>
</blockquote>
<p>새로 만들어졌지만 아직 stage 상태가 아닌 파일들을 삭제한다.</p>
<h3>이미 커밋한 내용을 수정하고 싶은 경우</h3>
<blockquote>
<p>git commit --amend</p>
</blockquote>
<p>이전 커밋 로그를 변경하거나, 이번에 바꾼 파일을 이전 커밋으로 합쳐버릴 때 사용한다. </p>
<blockquote>
<p>git revert HEAD</p>
</blockquote>
<p>가장 마지막 커밋(HEAD)을 취소하고 되돌린다. HEAD^2, HEAD~3 </p>
<blockquote>
<p>git revert HEAD^</p>
</blockquote>
<p>마지막 커밋의 바로 이전 커밋(즉 HEAD+1)으로 되돌린다.</p>
<blockquote>
<p>git revert -m 1 {commit}</p>
</blockquote>
<h3>파일이나 폴더를 버전관리하고 싶지 않을 때</h3>
<p>.gitignore 에 파일 이름을 등록한다. </p>
<pre><code>#exclude folder
TEMP/*
#include file in exclude folder
!TEMP/include_me
</code></pre>

<p>이미 추가된 파일이나 폴더를 빼고 싶은 경우</p>
<blockquote>
<p>git rm --cached {FILE}<br />
git rm --cached -r {DIR}</p>
</blockquote>
<p>특정 폴더를 실제로 지우진 않고, 버전관리에서만 삭제한다. 이때 .gitignore 에 추가해둬야만 다른 사람이 하위 파일을 수정한 경우에 또다시 추가되는 걸 막을 수 있다.</p>
<h3>파일이 너무 많아서 무엇을 커밋할 지 알기 힘들 때</h3>
<blockquote>
<p>git add -i</p>
</blockquote>
<p>인터랙티브 모드를 이용해서 변경된 파일을 stage 상태로 만든다.</p>
<h3>최근 N 개의 커밋을 하나로 만들려면</h3>
<p>git rebase -i HEAD~N</p>
<p>으로 하면 커밋 편집기가 뜬다. 이때 삭제하고픈 커밋 앞에 pick 대신 squash (또는 s)를 써 넣으면, 최종적으로 커밋 로그 입력모드로 들어간다. 단,</p>
<ul>
<li>rebase 를 취소하고 싶으면 q! 대신 모든 라인을 지워야 된다. </li>
<li>이미 외부 서버로 push 되었을 경우엔 rebase 하면 인생이 꼬인다.</li>
</ul></div>
	
	<p>
	
		<a href="/tag/git/"><span class="label">git</span></a>
	
	</p>
	
</article>
			
				<article>
	<div class="page-header">
		<h1><a href="/2010/12/14/jquery-ui-widget-setoption/">jQuery UI Widget _setOption</a> <small>2010-12-14</small></h1>
	</div>
	<div><p>jQuery UI widget 은 기본적으로 한번에 여러 개의 옵션을 설정할 수 있다.</p>
<pre><code>$('...').somewidget('option',{aa:bb, cc:dd});
</code></pre>

<p>하나의 옵션을 설정할 때의 추가적인 로직을 넣으려면  _setOption() 을 재정의하면 된다.</p>
<pre><code>_setOption: function(key,value){
  if(key=='some'){...do something...}
}
</code></pre>

<p>가끔은 여러 개의 옵션을 한번에 설정할 때, 그 중 몇몇 옵션이 바뀔 경우에 대한 추가적인 로직을 넣으려면  _setOptions 를 재정의하면 된다. jQuery UI Dialog 의 코드가 가장 좋은 예제일 것이다. 다만 1.8.6 부터 지원하니까 버전에 주의하길.</p>
<pre><code>_setOptions: function( options ) {
  var self = this,
  resizableOptions = {},
  resize = false;

  $.each( options, function( key, value ) {
  self._setOption( key, value );

  if ( key in sizeRelatedOptions ) {
  resize = true;
  }
  if ( key in resizableRelatedOptions ) {
  resizableOptions[ key ] = value;
  }
  });

  if ( resize ) {
  this._size();
  }
  if ( this.uiDialog.is( &quot;:data(resizable)&quot; ) ) {
  this.uiDialog.resizable( &quot;option&quot;, resizableOptions );
  }
},
</code></pre></div>
	
	<p>
	
		<a href="/tag/jQueryUI/"><span class="label">jQueryUI</span></a>
	
	</p>
	
</article>
			
				<article>
	<div class="page-header">
		<h1><a href="/2010/11/16/jqueryuitooltip/">jquery.ui.tooltip</a> <small>2010-11-16</small></h1>
	</div>
	<div><h2>개요</h2>
<ul>
<li>jquery ui 1.9 에서부터 지원된다. 1.8 에서 사용하려면 약간의 소스 수정이 필요하다.</li>
<li>기본적으로 title 속성을 툴팁 텍스트로 사용한다. 동적으로 컨텐트를 만들려면 content 함수를 이용해서 DOM 을 리턴해야 한다.</li>
<li>툴팁은 dialog 와 마찬가지로 body 에 추가된다. 자동으로 ui-tooltip-1 ui-tooltip-2 와 같이 id 가 붙는다.</li>
<li>this.element 는 툴팁을 띄우는 원본 DOM 이고, 툴팁 컨텐트에 직접 접근하려면 this.tooltip 또는 this.widget() 을 이용해야 한다.</li>
<li>beforeOpen 같은 걸 지원하면 좋을텐데.. 일단은 없다. 뜨지 않게 하려면 disable 시키는 수 밖에 없다.</li>
<li>툴팁 내부 컨텐트에 jquery ui 위젯을 사용하려면 open 콜백에서 적용할 것.</li>
</ul>
<h2>툴팁 내부에 템플릿을 적용한 후 Progressbar 넣기</h2>
<pre><code>xxx.tooltip({
  content: function(){
    return $('#building-unit-tooltip-tmpl')
      .tmpl(unit);
  },
  open: function(event){
    var timeRatio = (unit.maxTime-unit.remainTime) / unit.maxTime * 100;
    var $tooltip = $(this).data('tooltip').widget();
    $tooltip
      .find('div.progressbar')
        .progressbar({value:timeRatio})
      .end()
      .find('.ui-progressbar-value')
        .animate({
          width: &quot;100%&quot;
        }, {
          duration: unit.remainTime*1000
        });
  }});
</code></pre></div>
	
	<p>
	
		<a href="/tag/jquery ui/"><span class="label">jquery ui</span></a>
	
		<a href="/tag/tooltip/"><span class="label">tooltip</span></a>
	
	</p>
	
</article>
			
				<article>
	<div class="page-header">
		<h1><a href="/2010/11/15/div-layering-with-z-index/">DIV layering with z-index</a> <small>2010-11-15</small></h1>
	</div>
	<div><p>구글맵처럼 (바닥 - 마커 - 오버레이) 등 여러 개의 레이어로 구성하고, 그 안에 위치한 각종 마커들끼리의 z-index 를 상황(?)에 따라서 코드 레벨에서 정렬해야 한다고 가정하자.</p>
<pre><code>&lt;div id=&quot;map&quot;&gt;
  &lt;div id=&quot;ground&quot;&gt;
  &lt;div id=&quot;first&quot; class=&quot;marker&quot;&gt;1st&lt;/div&gt;
  &lt;div id=&quot;second&quot; class=&quot;marker&quot;&gt;2nd&lt;/div&gt;
  &lt;/div&gt;
  &lt;div id=&quot;overlay&quot;&gt;
  &lt;div id=&quot;third&quot; class=&quot;overlay&quot;&gt;3rd&lt;/div&gt;
  &lt;div id=&quot;fourth&quot; class=&quot;overlay&quot;&gt;4th&lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
</code></pre>

<p>보통 맵은 relative, 레이어들은 absolute 로 두게 된다. 이때 레이어들의 z-index 를 지정하지 않으면(또는 auto 로 설정하면), #first 마커의 z-index 를 9999 로 잡으면 상위 레이어 위로 올라오게 된다.</p>
<pre><code>#map {
  position: relative;
  width: 100%;
  height: 500px;
  background-color: gray;
}
.marker, .overlay {
  position: absolute;
  text-align: center;
}
#ground {
  position: absolute;
  left: 0;
  top: 0;
  background-color: #ededed;
  z-index: 1000;
}
#overlay {
  position: absolute;
  left: 0;
  top: 0;
  z-index: 1001;
}
#first {
  width: 100px;height: 100px;
  background-color: yellow;
}
#second {
  width: 50px;height: 200px;
  background-color: green;
}
#third {
  width: 200px;height: 50px;
  background-color: red;
}
#fourth {
  width: 50px;height: 300px;
  background-color: blue;
 }
</code></pre>

<p>대신 그냥 <strong>각 레이어들의 z-index 를 각각 1000,1001 로 설정</strong>하기만 하면, 아무리 하위 레이어의 마커에 높은 z-index 를 줘도, 절대 상위 레이어를 침범하지는 않게 된다.</p>
<p>관련 테스트 코드는 <a href="http://jsfiddle.net/Reiot/dPYcJ/embedded/result">jsfiddle</a>에서 볼 수 있다.</p></div>
	
	<p>
	
		<a href="/tag/css/"><span class="label">css</span></a>
	
	</p>
	
</article>
			
			<ul class="pager">
			
			  	<li class="previous">
			    	<a href="/page/5/">&larr; Older</a>
			  	</li>
		  	
		  	
				<li class="next">
					<a href="/page/5">Newer &rarr;</a>
				</li>
		  	
			</ul>
		</div>
		<div class="span3">
			<ul class="nav nav-list well">
	<li class="nav-header">
		Recent Posts
	</li>
	
	<li>
		<a href="/2011/01/12/haveappserver-vs-onproductionserver/">have_app_server vs. on_production_server</a>
	</li>
	
	<li>
		<a href="/2011/01/04/git-tips/">Git Tips</a>
	</li>
	
	<li>
		<a href="/2010/12/14/jquery-ui-widget-setoption/">jQuery UI Widget _setOption</a>
	</li>
	
	<li>
		<a href="/2010/11/16/jqueryuitooltip/">jquery.ui.tooltip</a>
	</li>
	
	<li>
		<a href="/2010/11/15/div-layering-with-z-index/">DIV layering with z-index</a>
	</li>
	
</ul>
		</div>
	</div>

</div> <!-- /container -->


    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
	
    <script src="/assets/js/jquery.js"></script>
    <script src="/assets/js/bootstrap.min.js"></script>
	

  </body>
</html>