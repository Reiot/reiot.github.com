<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
	<title>Rebooting Reiot</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="Social Game Developer wandering strange dungeon...">
	<meta name="author" content="Ray Yun">

    <!-- Le styles -->
	
    <link href="/assets/css/bootstrap.min.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
      }
    </style>
    <link href="/assets/css/bootstrap-responsive.min.css" rel="stylesheet">
	

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/assets/ico/favicon.ico">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="/assets/ico/apple-touch-icon-57-precomposed.png">
  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/">Rebooting Reiot</a>
          <div class="nav-collapse">
            <ul class="nav">
              <li class="active"><a href="/">Home</a></li>
              <li><a href="/archives/">Archives</a></li>
              <li><a href="/category/">Categories</a></li>
              <li><a href="/tag/">Tags</a></li>
			  
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

	
<div class="container">

	<div class="row">
		<div class="span9">
			
				<article>
	<div class="page-header">
		<h1><a href="/2005/12/11/adonet-이란/">ADO.NET 이란?</a> <small>2005-12-11</small></h1>
	</div>
	<div><blockquote>
<p>ADO.NET은 OLE DB 및 XML을 통해 제공되는 데이터 소스뿐 아니라 Microsoft SQL Server와 같은 '''데이터 소스에 대한 일관성 있는 액세스'''를 제공합니다. 데이터 공유 소비자 응용 프로그램은 ADO.NET을 사용해서 이러한 데이터 소스에 연결하여 '''데이터를 검색, 조작 및 업데이트'''할 수 있습니다.<br />
-- from MSDN</p>
</blockquote>
<ul>
<li>모든 것은 데이터 소스 - DB, 엑셀, XML, 텍스트파일, ...</li>
<li>연결되지 않은 데이터 집합 - 캐싱 방식</li>
<li>XML 과의 강력한 통합</li>
<li>N 레이어 어플리케이션에 적합 - 특히 웹 어플리케이션...</li>
</ul>
<!--more-->

<h2>ADO.NET의 구성 요소</h2>
<p><a href="http://boxcatstudio.files.wordpress.com/2009/07/ADO.jpg" title="ADO" target="_top"><img alt="ADO" src="http://boxcatstudio.files.wordpress.com/2009/07/ADO.jpg" /></a></p>
<h3>DataSet</h3>
<p>메모리에 존재하는 데이터들 (쉽게 말하자면 in 메모리 DB, but...)</p>
<ul>
<li>데이터 테이블(들) + 데이터 관계(들)</li>
<li>형식화된 데이터 집합 vs. 형식화되지 않은 데이터 집합</li>
</ul>
<p><a href="http://boxcatstudio.files.wordpress.com/2009/07/ADO.jpg" title="ADO" target="_top"><img alt="ADO" src="http://boxcatstudio.files.wordpress.com/2009/07/ado1.jpg" /></a><br />
<a href="http://boxcatstudio.files.wordpress.com/2009/07/ADO.jpg" title="ADO" target="_top"><img alt="ADO" src="http://boxcatstudio.files.wordpress.com/2009/07/ADO2.jpg" /></a></p>
<h3>DataTable</h3>
<p>동일한 데이터(DataRow)의 집합.</p>
<ul>
<li>PK. Unique, Auto Increment, Not Null 등의 Constraint 를 지정할 수 있다.</li>
<li>DB 테이블과 유사하다. 그러나, 완벽하게 같지 않다 -&gt; DB View 또는 조인을 통해 데이터 테이블로 갖고 올 수도 있고, 로컬에서 수동 생성도 가능하다.</li>
</ul>
<p><a href="http://boxcatstudio.files.wordpress.com/2009/07/ADO.jpg" title="ADO" target="_top"><img alt="ADO" src="http://boxcatstudio.files.wordpress.com/2009/07/ADO3.jpg" /></a></p>
<h3>DataRelation</h3>
<p>데이터 테이블간의 관계.</p>
<ul>
<li>PK. FK. Unique, Auto Increment</li>
<li>데이터 그리드의 navigation 에서 사용됨.</li>
</ul>
<p><a href="http://boxcatstudio.files.wordpress.com/2009/07/ADO.jpg" title="ADO" target="_top"><img alt="ADO" src="http://boxcatstudio.files.wordpress.com/2009/07/ADO4.jpg" /></a></p>
<h3>DataAdapter</h3>
<p>데이터 소스에서 데이터를 읽어 데이터집합을 채운다. 그리고, 데이터집합의 변경 사항을 데이터 소스로 반영한다.</p>
<ul>
<li>SelectCommand, UpdateCommand, DeleteCommand, InsertCommand...</li>
</ul>
<p><a href="http://boxcatstudio.files.wordpress.com/2009/07/ADO.jpg" title="ADO" target="_top"><img alt="ADO" src="http://boxcatstudio.files.wordpress.com/2009/07/ADO5.jpg" /></a></p>
<h3>DataView</h3>
<p>특정 데이터 테이블을 row 필터링한 부분 집합.</p>
<ul>
<li>컬럼 필터링은 안됨</li>
<li>데이터 테이블의 조인도 안됨</li>
<li>SQL 처럼 WHERE 필터를 걸 수 있다.</li>
</ul>
<p><a href="http://boxcatstudio.files.wordpress.com/2009/07/ADO.jpg" title="ADO" target="_top"><img alt="ADO" src="http://boxcatstudio.files.wordpress.com/2009/07/ADO6.jpg" /></a></p>
<h3>DataGrid</h3>
<p>테이블 형태의 데이터를 보여주는 강력한 .NET 컨트롤</p>
<ul>
<li>정렬, 추가, 삭제, 수정, 네비게이션, 등등 웬만한 기본 기능들은 모두 들어 있다.</li>
<li>텍스트박스, 체크박스만이 포함될 수 있다. 그러나, 커스텀 컨트롤을 만들면 딴 넘들도 가능.</li>
</ul>
<p><a href="http://boxcatstudio.files.wordpress.com/2009/07/ADO.jpg" title="ADO" target="_top"><img alt="ADO" src="http://boxcatstudio.files.wordpress.com/2009/07/ADO8.jpg" /></a></p>
<h3>DataBinding</h3>
<p>데이터와 컨트롤의 자동 매핑</p>
<ul>
<li>텍스트 박스, 체크 박스 등 단순 컨트롤과의 바인딩</li>
<li>콤보박스, 그리드 등 복잡한 컨트롤과의 바인딩</li>
</ul>
<p><a href="http://boxcatstudio.files.wordpress.com/2009/07/ADO.jpg" title="ADO" target="_top"><img alt="ADO" src="http://boxcatstudio.files.wordpress.com/2009/07/ADO9.jpg" /></a></p>
<h2>VB.NET 으로 데이터베이스 어플리케이션 만들기</h2>
<p>가장 빨리 DB 어플리케이션을 만드는 방법!</p>
<ol>
<li>2개의 테이블을 드래그 앤 드랍해와서, 형식화된 데이터 집합을 만든다</li>
<li>XSD를 수정해서 관계를 만든다.</li>
<li>데이터 그리드를 추가, 바인딩한다.</li>
<li>수정후 업데이트하기</li>
<li>끝.</li>
</ol></div>
	
</article>
			
				<article>
	<div class="page-header">
		<h1><a href="/2005/12/07/나쁜-아이디어를-위한-좋은-방법/">나쁜 아이디어를 위한 좋은 방법</a> <small>2005-12-07</small></h1>
	</div>
	<div><blockquote>
<p>지금 하고 있는 이런 하찮은 일은 대충 빨리 끝낼 예정이다. 난 멋진 프로젝트를 언젠가 해야할 몸이기 때문이다.</p>
</blockquote>
<p>당연히 <a href="http://www.extra-project.com/bbs/view.php?id=keeping01&amp;page=1&amp;sn1=&amp;divpage=1&amp;sn=off&amp;ss=on&amp;sc=on&amp;select_arrange=headnum&amp;desc=asc&amp;no=82">웹 디자인에만 적용되는 이야기</a>는 아니며, 특히 legacy code 를 다루는 프로그래머들이 쉽게 빠지는 길이기도 하다. 사실 나를 포함한 우리 팀원들 대다수가 이런 마음가짐으로 일하고 있기에 더욱 가슴이 시리다. 물론 지금으로서는 빨리 끝내는 것만이 유일한 해결책이지만...</p></div>
	
</article>
			
				<article>
	<div class="page-header">
		<h1><a href="/2005/11/23/vb를-이용한-선분과-원의-충돌체크/">VB를 이용한 선분과 원의 충돌체크</a> <small>2005-11-23</small></h1>
	</div>
	<div><p><a href="http://boxcatstudio.files.wordpress.com/2009/07/collide.JPG" title="collide" target="_top"><img alt="collide" src="http://boxcatstudio.files.wordpress.com/2009/07/thumb_collide.JPG" /></a></p>
<p>고등학교때까지만 해도 기하쪽은 상당히 자신있었는데 나이가 들어갈수록 3D 쪽에는 상당히 취약해서 가고 있다. 몇 달 전 관련 서적을 쭈욱 질러주고 조금 보다가 때려쳤었다. 그러다 이번에 유지 보수 중인 legacy code 에서 brute force 충돌 체크 코드를 좀 더 깔끔하게 해보고자 선분과 원의 충돌 체크를 구현해보게 되었다. 역시나 이럴 때에는 MFC 보다는 .NET winform 이 제일 손쉽기에 재빨리 VB.NET 을 띄워 줬다.</p>
<p>우선 Matrix 나 Vector 류의 함수는 .NET framework 에서 지원하지 않기 때문에 DirectX 쪽의 참조를 갖고 와야 한다. 그다음 리얼타임렌더링 625 페이지를 펼쳐서 그대로 코딩하면 된다.  실제로 타이핑은 금방 끝났는데 웬걸 제대로 동작하지 않아서 이 사람 저 사람 붙잡고 물어보다가 잠이 들고, 오늘 회사에 와서 차분히 책을 읽어보니 그 중 한 넘이 normalized vector 여야 한다는 걸 찾아냈다. 뿌듯.. -_-+</p>
<p>책은 반직선과 구의 충돌이라서 선분 충돌을 구하려면 교차 좌표 중 가까운 넘을 찾아내서 그 길이가 원래 반직선 길이보다 짧아야 진짜 충돌이 된다. 사실 3D 를 쭉 하던 사람들이야 너무 쉬운 것일테지만 수학책을 한동안 놓고 살았던 본인에게는 꽤나 막중한 과제였다. 역시나 해내고 나니 성취감 보다는 허탈감이 든다. 흑.</p>
<pre><code>
Imports Microsoft.DirectX

Public Class Form1
Inherits System.Windows.Forms.Form

Dim bCollided As Boolean = False

Dim circleRect As Rectangle
Dim PenWidth As Integer = 1

Dim o As Vector2 = New Vector2
Dim o2 As Vector2 = New Vector2
Dim c As Vector2 = New Vector2
Dim r As Single = New Single
Dim d As Vector2 = New Vector2
Dim l As Vector2 = New Vector2
Dim s As Single = New Single

Dim l2 As Single = New Single
Dim m2 As Single = New Single
Dim world As Matrix = New Matrix
Dim t As Single = New Single

Private Function CheckCollide() As Boolean

r = circleRect.Width / 2
c.X = circleRect.X + r
c.Y = circleRect.Y + r

Dim P As Vector2 = Vector2.Subtract(o2, o)
d = Vector2.Normalize(P)

l = Vector2.Subtract(c, o)  ' l = c - o
s = Vector2.Dot(l, d)  ' s = l dot d
l2 = Vector2.Dot(l, l)  ' l^2 = l dot l
Dim r2 As Single = r * r

If (s  r2) Then  ' if ( s  r^2 ) return reject
Return False
End If

m2 = l2 - s * s  ' m^2 = l^2 - s^2

If (m2 &gt; r2) Then  ' if ( m^2 &gt; r^2 ) return reject
Return False
End If

' 이제 선분이 교차하고 있다. 교차하는 두 점을 구한 후 가장 가까운 넘과의 거리가 선분의 길이보다 작아야 한다.

Dim q As Single = Math.Sqrt(r2 - m2)
If (l2 &gt; r2) Then
t = s - q
Else
t = s + q
End If

Return P.Length &gt;= t

End Function

Private Sub setupCircle(ByVal e As Point)
If e.X
</code></pre></div>
	
</article>
			
				<article>
	<div class="page-header">
		<h1><a href="/2005/10/31/inet_ntoa-의-위험성/">inet_ntoa 의 위험성</a> <small>2005-10-31</small></h1>
	</div>
	<div><p>아래와 같이 내부 버퍼를 리턴하는 함수를 연속적으로 사용할 경우에는 주의해야 한다. 그냥 string 으로 감싸서 사용하는 것이 정신건강에 좋다. (단 타이핑 횟수는 .c_str() 때문에 꽤 증가한다)</p>
<p>printf( "external_address=%s internal_address=%s",<br />
  inet_ntoa(exaddr),<br />
  inet_ntoa(inaddr));</p></div>
	
</article>
			
				<article>
	<div class="page-header">
		<h1><a href="/2005/10/22/find_if-와-boostlambda/">find_if 와 boost::lambda</a> <small>2005-10-22</small></h1>
	</div>
	<div><p>STL 컨테이너를 만지작거리다보면 종종 algorithm 을 써서 코드를 간략하게 표현하고픈 충동이 든다. 그런데 STL에서 제공하는 각종 function template 의 파워는 생각보다 약하다. 가령 다음과 같이 컨테이너 내부 객체의 멤버 함수의 실행 결과를 기준으토 무언가를 하고 싶은 경우...</p>
<pre><code>class Focker
{
public :
    Focker(int v) : value(v) {}
    int GetValue() const { return value; }
private:
    int value;
};

typedef list FOCKERS;

FOCKERS fockers;

fockers.push_back( Focker(1) );
fockers.push_back( Focker(2) );
fockers.push_back( Focker(3) );
fockers.push_back( Focker(4) );
fockers.push_back( Focker(5) );

// how to find whose value ==3 ??
</code></pre>
<p>가장 단순한 방법으로는 하드코딩 함수자를 사용하면 된다.</p>
<pre><code>class GetValueIs3
{
public :
    GetValueIs3(){}
    bool operator() ( const Focker &amp; f ) const
    {
        return f.GetValue() == 3;
    }
};

FOCKERS::iterator itr;

itr = find_if( fockers.begin(), fockers.end(), GetValueIs3() );
assert( itr != fockers.end() );
cout GetValue() GetValue() (),3),
        mem_fun_ref(&amp;Focker::GetValue )) );
</code></pre>
<p>그래서 이걸 가능하게 하기 위해서 몇 시간동안 씨름하다가 mem_fun_ref 의 코드를 살짝 고쳐서 다음과 같은 코드를 만들어봤다.</p>
<pre><code>template
class my_const_mem_fun_ref_t
    : public unary_function
{
public:
    explicit my_const_mem_fun_ref_t(_Result (_Ty::*_Pm)() const, const _Fn &amp; f )
        : _Pmemfun(_Pm), func(f)
    {
    }

    typename _Fn::result_type operator()(const _Ty&amp; _Left) const
    {
        return (func((_Left.*_Pmemfun)()));
    }

private:
    _Result (_Ty::*_Pmemfun)() const;   // the member function pointer
    _Fn func;
};

template
inline
my_const_mem_fun_ref_t
my_mem_fun_ref(_Result (_Ty::*_Pm)() const, const _Fn &amp; f)
{
    return (my_const_mem_fun_ref_t(_Pm,f));
}

itr = find_if( fockers.begin(), fockers.end(),
    my_mem_fun_ref( &amp;Focker::GetValue, bind2nd(equal_to(),3) )
);
assert( itr != fockers.end() );
cout GetValue() GetValue()
</code></pre></div>
	
</article>
			
			<ul class="pager">
			
			  	<li class="previous">
			    	<a href="/page/41/">&larr; Older</a>
			  	</li>
		  	
		  	
				<li class="next">
					<a href="/page/41">Newer &rarr;</a>
				</li>
		  	
			</ul>
		</div>
		<div class="span3">
			<ul class="nav nav-list well">
	<li class="nav-header">
		Recent Posts
	</li>
	
	<li>
		<a href="/2005/12/11/adonet-이란/">ADO.NET 이란?</a>
	</li>
	
	<li>
		<a href="/2005/12/07/나쁜-아이디어를-위한-좋은-방법/">나쁜 아이디어를 위한 좋은 방법</a>
	</li>
	
	<li>
		<a href="/2005/11/23/vb를-이용한-선분과-원의-충돌체크/">VB를 이용한 선분과 원의 충돌체크</a>
	</li>
	
	<li>
		<a href="/2005/10/31/inet_ntoa-의-위험성/">inet_ntoa 의 위험성</a>
	</li>
	
	<li>
		<a href="/2005/10/22/find_if-와-boostlambda/">find_if 와 boost::lambda</a>
	</li>
	
</ul>
		</div>
	</div>

</div> <!-- /container -->


    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
	
    <script src="/assets/js/jquery.js"></script>
    <script src="/assets/js/bootstrap.min.js"></script>
	

  </body>
</html>