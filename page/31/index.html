
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Social Reiot</title>
  <meta name="author" content="Ray Yun">

  
  <meta name="description" content="- [열심히 하는 사람 보다는, 잘하는 사람이 되어라.(Don't Work Hard, Work Well)](http://agile.egloos.com/2897508)
- 전문 직장인이 되기 보단, 전문 직업인이 되어라. 예전에 모시던 분들이 즐겨 하시던 말들이다.  &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://reiot.com/page/31">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Social Reiot" type="application/atom+xml">
  <!--Fonts from Google's Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-247024-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Social Reiot</a></h1>
  
    <h2>Social Game Developer wandering in strange dungeon.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:reiot.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul role=main-navigation>
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/12/09/smart-people/">Smart People</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-12-09T06:55:20+09:00" pubdate data-updated="true">Dec 9<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="http://pds9.egloos.com/logo/200804/01/93/f0025793.jpg"></p>

<pre><code>- [열심히 하는 사람 보다는, 잘하는 사람이 되어라.(Don't Work Hard, Work Well)](http://agile.egloos.com/2897508)
- 전문 직장인이 되기 보단, 전문 직업인이 되어라.
</code></pre>

<p>예전에 모시던 분들이 즐겨 하시던 말들이다. 과거의 무능하고 나태했던 내 모습을 곳곳에서 찾아낼 때마다, 혹시나 나도 곧 그렇게 무뎌질까 두렵다.</p>

<p>칼날을 더욱 날카롭게 세우기 위해서, 이번 달부터 새벽 영어 회화를 다시 시작했다. 영어 강사에게 리만 브라더스가 왜 나쁜지를, 왜 미국산 소고기가 나쁜지를 설명하기가 여간 힘들지 않았다. 역시나 함께 듣는 이십대 중반의 젊은 친구들은 정치에 관심이 없었다는 것도 확인했다. 덕분에 의도하지 않게 근무 시간이 한 시간 넘게 늘어나 버렸는데, 나보다 항상 더 일찍 나와서 일하는 사람도 있어서 깜짝 놀랬다. 역시 출근 순서가 회사의 실질적 직급 순라는 이야기가 맞는 걸까 하핫 :)</p>

<p>그리고, 스마트한 회사 친구들과 얼랭 대결(?) 프로젝트도 바야흐로 가동되었다. 주사위를 굴려 2:2 로 짝을 지어 모종의 코딩 대결을 펼치려고 하는 중인데, 역시나 한 마디만으로 열길 사람 속도 알아듣는 친구들이라서 기대가 된다. 반짝이는 후학들의 걸림돌이 되지 않기 위해서라도, 집에서 열심히 예습복습을 해야것다. 클클.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/11/16/prepare-the-battle/">Prepare the Battle</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-11-16T23:59:35+09:00" pubdate data-updated="true">Nov 16<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://minjang.egloos.com/2137737"><img src="http://www.tesionline.com/intl/img/focus/asian-crisis.jpg"></a></p>

<p><a href="http://minjang.egloos.com/2137737">DHL도 미국에서 철수하고, SUN, 구글, HP, 이베이, 아마존 같은 유수 기업들이 감원을 하고 있고,</a> 실리콘밸리에는 <a href="http://mushman.co.kr/2690827">총격 사고</a>까지 나고 있는데, 펀더멘탈이 그렇게나 튼튼하다는 바이 코리아의 게임 회사들은 어떨게 될까? 최대한 네가티브하게 예측해서 그게 운좋게 맞아 떨어지면 나중에 1g 정도 우쭐하려나 싶어, 최악의 경우만을 가정해 보겠다.</p>

<p>조만간 닥쳐온다는 10년짜리 세계적 불황에 대해 조금이라도 고려하고 있는 회사라면, 슬슬 군살을 빼기 시작할 것이다. 가장 간단한 전기 절약 운동에서부터 연봉 동결, 유휴 인력 정리 해고, 싹수 없는 프로젝트의 조기 캔슬에 이르기까지 다양한 방식의 근검절약을 시행할 것이다. 최근의 중대형 회사들은 개발자들을 싹쓸이한 후, 동시에 5-10개의 프로젝트를 돌리는 것이 대세인데, 게임이란 것이 50% 의 성공률 완성율도 보장할 수 없는게 현실이다. 즉 인건비만 년간 50-100억 정도 까먹는다는 걸 감안해보면, 어떤 CEO도 이런 유혹을 이겨낼 수 없을 게다. 만약 이게 현실이 된다면 조만간 인력 시장에 고급 인력들이 가득하게 되고, 그러면 <a href="http://reiot.cafe24.com/2008/10/19/pareto-principle/">회사에서 어울렁 더울렁 웹서핑하면서 버티던 베짱이들</a>의 목은 더욱 위태로워질 것이다. :P</p>

<p>또, 부분 유료화라는 비지니스 모델이 기나긴 불황의 터널 속에서는 오히려 악재가 될 수도 있다. 내수 침체로 청소년들의 지갑이 얇아지면 그냥 무료 상태로만 게임을 즐길 가능성도 배제할 수 없으니까 말이다. 혹자는 IMF 시절을 예로 들면서, 경기가 침체될 수록 사람들이 값싼 놀이 수단을 찾기 때문에 게임 쪽은 괜찮을 거라고 하고, 나도 그렇게 믿고 싶지만.. 마찬가지로 이유로 해외 수출에 의존하는 모델도 힘들어질 수 있다. 이미 불황을 겪고 있는 일본이나, 중국 같은 이머징 마켓을 제외하면, 다들 배고픈데 비싼 돈을 주고 우리 나라 게임을 수입해와서 서비스 할 이유도 없지 않을까. 단 쥐새끼가 계속 삽질을 해대면 계속 원화 가치가 떨어져서 그때쯤이면 비싼 돈이 아닐 수도 있으니, 어째 고마워해야 할지도 모르겠다.</p>

<p><img src="http://img148.imageshack.us/img148/9008/bf2142billboard2ha4.jpg"></p>

<p>또 불황이 길어지면 사람들이 더이상 컴퓨터를 업그레이드하지 않을 수도 있다. 즉 차세대 콘솔 수준의 높은 퀄리티의 그래픽 때문에 개발비를 투입하는 것보다는, 아이폰 게임이나 닌텐도의 Wii처럼 게임성에 올인하는 게 더 현명한 전략일 수도 있겠다. 이런 걸 감안해보면 저사양에서도 잘 돌아가면서, 전세계 글로벌하게 광고를 수주해서 게임 내에서 보여주는 방식으로 (게이머들에게 금전적인 부담없이) 수익을 벌어들이는 모델이 가장 좋지 않을까 싶기도 하다. 광고 한번 보면 한 시간 플레이가 가능해요! 아이템도 하나 드려요! 뭐 이런 방식이 될까나..</p>

<p>그렇다면 대한민국만큼 공돌이들이 하류 인생인 나라도 드물테니, 해외로 나가서 새로운 미래를 개척해보면 어떨까?  아마 그때 쯤이면 환급받을 국민 연금도 똥값이 되고, 그나마 현금 보유한 걸 달러로 환전하면 50% 로 줄어들어 버릴 것 같다. 그나마 내수가 튼튼한 나라로 이민가서 후딱 적응하는 게 나을 수도 있겠지만, 이 불황이란 게 전지구적인 규모라서 그 나라의 게임 회사들이라고 영향을 받지 않으리란 보장이 없으니&#8230; 지금 후딱 나가서 신입으로 입사해도 시원찮을 판이다. (<a href="http://criburn.net/blog/jongs/entry/%EB%B8%94%EB%A6%AC%EC%9E%90%EB%93%9C-%EA%B0%9C%EB%B0%9C%EC%9E%90-Jeff-Kang%EA%B0%95%ED%98%95%EC%9B%90%EC%94%A8%EA%B0%80-%EB%A7%90%ED%95%98%EB%8A%94-%EA%B0%9C%EB%B0%9C-%ED%8F%AC%EC%9D%B8%ED%8A%B8%EC%99%80-%EB%82%B4-%EC%83%9D%EA%B0%81">블리자드는 56살짜리 신입 디자이너도 뽑는다</a>니, 두려워하지 말지어다)</p>

<p>이래서, 회사를 옮기려고 하는 지인들에게 무조건 100억 이상의 매출을 가진 회사로 옮기라고 권했는데, 어째 다들 힘든 모양이다. 올해를 넘기면 새 회사에서 실력을 발휘해 보기도 전에 밀려날 지도 모르니 어서 빨리 취업하시기 바라며, 결국 중요한 건 자신의 내공을 재테크 하고, 회사에서 열심히 일해서 낙오 그룹에 끼이지 않는 방법 밖에 없다. 그래도 안되면 핀란드 가서 임업을 하든, 뉴질랜드에서 목축업을 해야 될지도&#8230; ㅠ_ㅠ</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/11/15/three-rules-for-database-work/">Three Rules for Database Work</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-11-15T18:52:46+09:00" pubdate data-updated="true">Nov 15<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://www.openmaru.com/273"><img src="http://www.openmaru.com/attach/1/1046597520.jpg"></a>
<em><a href="http://www.openmaru.com/273">하루에 10만을 채우는 게임</a>은 이런 게 이벤트가 되는구나.</em></p>

<p>오늘자 코드 프로젝트에 올라온 <a href="http://www.codeproject.com/KB/architecture/DBTool.aspx">DBTool</a>의 근간이 된, <a href="http://odetocode.com/Blogs/scott/archive/2008/01/30/11702.aspx">데이터베이스를 갖고 놀 때의 세가지 룰</a>은 생각보다 간단했다.</p>

<h3>Never use a shared database server for development work.</h3>

<p>예전에는 (rails 스타일의) development-test-production 의 3단계 구분법을 사용했다. DBA와 서버 프로그래머는 dev DB에서 열심히 뒤집어 엎어도, test DB에 연결된 다른 프로그래머들이나 테스터들은 안정적으로 사용할 수 있고, 실제 서비스는 production 데이터베이스를 쓰게 된다는 거다.</p>

<h3>Always Have a Single, Authoritative Source For Your Schema</h3>

<p>DB 에 짧지만 단순한 나의 지론은, 레파지토리 어딘가에 무조건 전체 스키마+초기데이터를 담은 SQL 파일을 두고 버전 관리를 해야 한다는 거다. 소스 코드, 애셋들은 과거의 특정 시점의 스냅샷을 꺼내올 수 있는데, 유독 데이터베이스가 열외일 수는 없다고 본다.</p>

<p>또한 어차피 데이터베이스 패치를 해야 할 테니, create, alter로 가득찬 DB 패치 스크립트도 버전 관리해야 한다. test -> production 를 업그레이드할 때 모두 지우고 새로 만드는 만행을 할 수 없을테니, 아예 dev -> test 에서부터 미리 스크립트를 만들어서 테스트하면 정신 건강에 좋지 않겠냔 말이다. 처음에 언급한 DBTool 이 이런 걸 자동화해주는 모양이다.</p>

<h3>Always Version Your Database</h3>

<p>보통은 Config 테이블에다가 문자열로 데이터베이스 스키마 최종 변경일을 넣어두는 걸로 해결하고 있다. 그런데 아직 뭔가 변경이 잘 되었는지를 체크할 만한 테스트를 만들 능력은 안된다. 대체로 alter 든 drop 이든 서버가 뜰 때까지는 잘 모를것 같아서.. :)</p>

<p>이 외에도 무시무시하게 긴 <a href="http://www.ssw.com.au/ssw/Standards/Rules/RulesToBetterSQLServerDatabases.aspx">Better SQL Server Databases</a> 라는 규칙도 있는데 이건 좀 귀찮구나&#8230;.</p>

<p>추가:</p>

<pre><code>- 다른 글을 찾아 보니, 프로시저나 테이블 각각을 서로 다른 파일에 저장해서 관리하라는 말도 있다. 은근히 그럴듯한데?
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/11/15/kgc2008-2/">KGC2008(2)</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-11-15T06:38:11+09:00" pubdate data-updated="true">Nov 15<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="http://sirini.net/blog/data/diablo_3_3.jpg"></p>

<p>컨셉 아트에서부터 모델링, 매핑에 이르는 모든 영역을 소화해낸다는 특급 제너럴리스트들로 구성된 디아블로3 배경팀의 아티스트는 <strong>&#8220;아트는 결국 게임을 위해서 존재한다&#8221;</strong>고 말씀하셨다.</p>

<p>파이프라인의 2단계에서부터, 텍스처도 없는 애셋을 게임에 올려서 테스트해볼 수 있어야 한다는 이야기를 그분도 좀 새겨 들으셨으면 싶다. 디테일이 지나쳐서 플레이어들에게 시각적 혼란을 주면 안되기 때문에 사진 텍스처 대신 손으로 그린다는 이야기도.</p>

<p>바닥 양탄자 색깔을 암묵적인 진행 방향으로 삼는다든지, 모든 디자이너들이 실시간으로 애셋들을 공유하되 거기에서 자신만의 커스터마이징을 거쳐서 항상 다르게 보이는 배경을 만든다든지, 3D 환경에서 랜덤맵 기반의 배경 그래픽을 만든다는 이야기들은 역시 블리자드 스케일! 이라는 인상을 받았다.</p>

<p>그나저나 먼저 다함께 스타일 가이드를 만들고, 컬러 스터디를 하고, 디자인 템플릿이 나오면 페인트오버 덧칠해서 돌려본다고 하니, 실컷 작업한 후 디렉터가 drop시키면 울면서 재작업한다던 이야기가 떠올라서 씁쓸했다. (어제 배씨 아저씨는 민주적으로는 타협과 협상의 결과가 나온다고던데, 이 아저씨는 직위 고하에 관계없이 브레인스토밍해서 최대한 아이디어를 살려 나간다고 하니, 이게 바로 국민성의 차이인가..)</p>

<p><a href="http://www.moven.com/en/home_moven.php">Moven</a> 이 고작 5천만원이라는 사실에 처음 경악했고 <em>(우리는 모캡 받은 후 그 결과를 넘겨 받는데 두 달이나 걸렸는데도  천오백만원이었는데..)</em>, 우리가 UBO에서 구현했던 게 Motion Library Based Character Simulation 에 근접한 기술이었다는데 순간 뿌듯했으며(물론 우린 더 파지 않아서 단순 Parameterized Blending 수준이었지만), 이걸 더 발전시킨 게 스포어에서 사용된 기법이었다는 것도 놀라웠다. </p>

<p>컴포넌트 기반 방법론은 강연자가 멋지다는 이야기만 하고 구체적인 적용 방안이나 장단점에 대해서는 코드조차 보여주지 않아서 아쉽다는 이야기가 있었다. (망갈로라서 그런가!!) 컴포넌트간 메시지 기반 통신은 모듈간 의존도는 확실히 줄어들고, 유닛테스트하기도 편하고, 멀티코어 대응도 쉬울 것 같은데, 클라이언트야 그렇다 치더라도 서버에서는 어떻게 잘 쓸 수 있을지가 좀 애매했다. 실제로 이런 구현을 쓰고 있는 모군에게 물어보면 역시나 디버그하기가 괴롭다는데&#8230; 흐흠. GPG 5권이나 다시 읽어봐야지.</p>

<p>jacking75님의 강연은 내가 대구 출신이라서 그런지 구수했다. C# - C++ 연동 때문에 고생을 많이 하신 것 같은데, 역시 XML로 프로토콜을 디자인하고 각 언어별로 코드 제너레이터를 만드는게 최종 진화의 모습이 아닐까 추측해본다. 조만간 나도 비슷한 툴들을 많이 만들어야 할 것 같은데, C# 보다는 VB.NET을 주로 써봐서 뭘 해야 할지 고민이다. 이런 툴의 문제점이라면 편집은 간편하지만 유출 및 보안 문제가 걸릴텐데, 요즘의 대세는 접근 제어가 가능하고 업데이트 걱정을 안해도 되는 웹 기반이 아닐까 싶다. 근데 사내에 .NET 툴들이 많고 자동 업데이트도 잘 되는 걸로 봐서는 또 괜찮을 것도 같고&#8230; (시간만 있으면 rails로 해보고도 싶은데.. 아니면 누가 실버라이트로 만들어주든가. 흐흐)</p>

<p>마지막 시간은 이미 알던 이야기라서. 32코어의 시대가 도래하면 얼랭이 세상을 지배할지도 모른다..라고만 정리해보련다. 그 때가 되면 다시 플레이어, 몬스터들 마다 얼랭 프로세스를 할당해서 갖고 놀게 될지도 모르겠다.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/11/14/kgc2008/">KGC2008</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-11-14T06:48:17+09:00" pubdate data-updated="true">Nov 14<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="http://www.avatron.com/img/air_sharing_103.jpg"></p>

<p><em>터치의 must-have 아이템. KGC pdf 넣느라 사버렸다. 쿨럭.</em></p>

<p>간만에 부르조아 모드로 집에서 택시를 타고 &#8220;일산 킨텍스요~&#8221; 라고 하고 가면서 우리나라 교육 제도에 대해서 열심히 떠들었는데, 이 아저씨 할증료를 3천원이나 더 뺏어가네? 한방에 무려 17000원이 날아가버렸다. 역시 택시 기사를 믿어서는 안되는 거다. 일찍 도착하니 할 일도 없고 해서 터치에 무선랜으로 구글 리더를 읽고, 워드프레스 어플로 블로깅도 해보니 어느덧 된장남처럼 느껴졌다. </p>

<p>배재현 상무의 키노트 중에서의 백미는, 게임은 민주적으로 만들어서는 안된다는 이야기. 무능력자들에게 불필요하게 선의를 보였다가는 언젠가 어떻게든 뒷통수를 맞는다는 개인적 경험과 겹쳐져서 들렸다. 또 &#8220;전생에 어디에선가 본 듯한 게임&#8221;이라는 접근도 꽤 괜찮았다.</p>

<p>다들 NC에는 학벌이 강하니 정치가 심하니 욕하는데, 의외로 배상무의 학벌은 지방대였다. (만세!) &#8220;역시 서울 올라올 때 바로 큰 물에 갔었어야 했어&#8221;라고 하니, 쉬귀군은 &#8220;우리가 98년도에 제대로 게임을 만들었으면 지금 저 위치에 서있었을 거다.&#8221; 라고 하는데 한편으로는 수긍이 가더라는.. (그러고보니 리니지 처음 나왔을 때 Wand of wish 보고 네트핵 따라 했다고 욕했었는데, 지금 생각하니 그냥 네트핵 오덕의 옹알이였을 뿐이었구나)</p>

<p>IK 에 관해서 강연하신 분은 상당히 논리정연하게 설명을 잘 해주셨다. 예전에 크라이엔진 데모때 보던 IK 장면들을 똑같이 구현하신 걸 보니 꽤 열심히 하신 모양이었다. 모션 리타겟팅도 예상 보다 퀄리티가 좋았다. 역시 애니메이션 전문 프로그래머가 있었어야 했다는 아쉬움이 들면서 동시에, 내추럴 모션이 조금만 먼저 출시되었더라도 우리가 그렇게 고생을 안했을 텐데.. 라는 원망도 들었다. 제대로 업데이트도 안하고 매년 돈만 받아 먹던 빌어먹을 이모션FX를 생각하니 울화통이 터진다. 그래 실력 없어서 빨리 출시 못한 놈들이 죄지.</p>

<p>박일씨의 강연은 예상대로 달변이었다. 7대 낭비는 저기 멀리 도요타 동네에서 온 개념인가 본데, 생각보다 게임 개발에 많이 침투해 있던 그들의 실체를 제대로 느껴본 좋은 시간이었다. 또한, 쉬귀 군이 항상 못마땅해하던 유닛테스트를 재평가하는 시간이 되지 않았을까 생각한다. </p>

<p>셋째 시간은 그다지 땡기는게 없어서 걸스타를 보러 내려갔다가, 넥슨 부스에서 대략 좌절을 하고 돌아섰다. 역시 넥슨은 남들보다 한 세대를 앞서가는 회사이구나 싶었다. 뭐 설명이 필요없는 마비노기 영웅전과, 허스키인지 뭔지 하는 개썰매 게임도 뭐랄까 감성을 자극하는 면이 남달랐다. 물론 드래곤 네스트는 퍼블리싱이니까 별개로 치고 싶지만, 직접 만들든 돈주고 사든, 결과적으로 돈만 많이 벌면 되지 그게 뭔 상관이겠느냐는 의견에 100표.</p>

<p>NHN의 C9도 괜찮았지만 넥슨에 비하면 만 1년의 최적화를 더 해야 할 것 같다는 생각. 그 외에도 괜찮은 게임들이 많이 있었지만, 지면 관계상 생략한다. 이거 맨날 남의 게임 보고 감탄만 하다가 업종을 변경하는게 아닌가 싶어서, 울면서 그냥 집으로 왔다.</p>

<p>돌아오니 나를 반기는 건, 헌재 SBS들의 종부세 위헌/헌법불합치 판정. 만수야 잘 모르는 헌재 간다고 고생 많았다.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/11/03/weekends-idle-thoughts/">Weekends Idle Thoughts</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-11-03T04:56:15+09:00" pubdate data-updated="true">Nov 3<span>rd</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div id="photoImgDiv2108199423" class="photoImgDiv" style="width:502px;"><img src="http://farm3.static.flickr.com/2212/2108199423_a3fac43d56.jpg?v=0" title="회원님이 촬영한 AQUA, Anantara, Maldives." ></div>


<p>오랜만에 사건 사고 없는 한가한 주말이다.</p>

<p>먼저 boost asio 를 이용해서 이상적인 아름다운 윈도우 서버 코어를 만든다면? 이라는 상상의 나래를 펴봤다. 누가 봐도 멋진 서버 코어가 되려면 어떤 특성을 가져야 할까?</p>

<pre><code>- 손쉬운 확장성 : 한대의 머신에서 하나의 프로세스로 1천명에서 최대 1만 명을 처리할 수 있도록 확장하는데 무리가 없어야 한다. 즉, IOCP 핸들와 Non I/O Worker 쓰레드를 M:N 으로 조합할 수 있는 구조가 되어야 한다.
- 이벤트 기반 : 사용자가 늘어나면 폴링은 최대한 피해야 한다. 즉 주기적으로 체크해야 하는 Idle Check 같은 코드들은 타이머 쓰레드에서 Post 시켜야 한다.
- 메모리 풀 기반의 버퍼 관리 : 입출력 버퍼를 세션이나 소켓과 1:1 정적으로 매핑시키기 보다는, 메모리풀에서 필요할 때마다 주고 받는 구조를 쓰자. Gathering &amp; Scattering 을 위해서는 필수적이다.
- 버퍼 복사의 최소화 : 어차피 1-recv 는 대세다. 즉, WSABUF를 개별 세션에 연관짓기보다는 메모리 풀에서 관리하고, I/O 쓰레드에서 입력이 완료되었을 때 메시지가 온전치 않으면 버퍼를 재사용해서 다시 요청에 들어가고, 아니면 새로운 버퍼를 게임 쓰레드로 넘기자. 브로드캐스팅할 때에도 버퍼 복사 없이 하나를 사용할 것! 출력의 경우라면 N-Send 를 쓸 수 밖에 없겠다.
- 동기화의 최소화 : 쓰레드간 통신은 [lock free queue](http://www.codeproject.com/KB/cpp/lockfreeq.aspx) 를 사용해야 한다. 
- 쓰레드의 최소화 : 서버간 통신, UDP, 추가적인 listen 소켓이 생겨도 쓰레드를 더 만들지 않을 수 있게, IOCP 를 최대한 활용해야 한다.
- 멀티 코어 대응 : 단지 쓰레드를 많이 만들어서 적당히 잘 돌아가려니..하기 보다는 멀티 코어를 효율적으로 활용하는 방법을 고민해보자.
- 서비스 기반 아키텍처 : ACE의 그것처럼 서비스를 하나의 프로세스에서 돌리다가 필요하면 다른 서버로 옮기더라도 무리없는 구조가 되어야 한다.
</code></pre>

<p>광고성 글이지만 일전에 <a href="http://code.google.com/p/c10k">c10k 라고 서버 코어를 괴롭히는 스트레스 테스트 클라이언트 프레임워크</a>를 구글 코드에 만들어뒀는데 boost asio 테스트만 하다가 중단된 상태다. 대충 아래 그림과 같은 건데&#8230;</p>

<blockquote><p></p></blockquote>


<p><img src="http://farm2.static.flickr.com/1106/1248922047_20af4a2d8c_o.jpg"></p>

<p>이런 걸 <a href="http://code.google.com/appengine/">구글 app engine</a> 으로 만들고 웹으로 요청하면 쓰레드 1만개 정도 만들어서 서버에 패킷을 보내면 괜찮을 거 같은데&#8230; 과연 구글에서 허용할까? (아마 SDK 레벨에서 쓰레드 생성이 막혀 있을 것 같다.) 만약 가능하다고 하면 대충 웹페이지에다가 서버 IP/Port 를 입력하고 테스트 시작을 누르면, 각 테스트 케이스들을 실행하고 성공/실패 여부를 화면에 출력해주는 느낌일 것 같다. (emule 에서 웹 기반으로 TCP 포트 체크하는 거랑 비슷한 거다) 헉. 역시나 찾아보니 안된단다.</p>

<blockquote><p>An App Engine application cannot:<br/><ul class="doublespace"><br/>  - write to the filesystem. Applications must use [the App Engine datastore](http://code.google.com/appengine/docs/datastore/) for storing persistent data. Reading from the filesystem is allowed, and all application files uploaded with the application are available. (Files uploaded as &#8220;static&#8221; files are not kept on the filesystem.)<br/> - open a socket or access another host directly. An application can use [the App Engine URL fetch service](http://code.google.com/appengine/docs/urlfetch/) to make HTTP and HTTPS requests to other hosts on ports 80 and 443, respectively.<br/>    - spawn a sub-process or thread. A web request to an application must be handled in a single process within a few seconds. Processes that take a very long time to respond are terminated to avoid overloading the web server.</p><p>   - make other kinds of system calls, such as [signals](http://www.python.org/doc/2.5/lib/module-signal.html).</p></blockquote>


<p>그나저나 Windows Server 2008 에는 CreateThreadpoolIo() 라든지 GetCurrentProcessorNumber() 같은 해괴한 API 들이 많이 추가된 모양이다. 어디 새로 추가된 API 목록  정리된 페이지 같은 게 없을까?</p>

<p><img src="http://www.ibm.com/developerworks/kr/library/wa-googlecode1/chart.jpg" title="구글 막대 그래프 예제" ></p>

<p>다음 잡상은 <a href="http://www.ibm.com/developerworks/kr/library/wa-googlecode1/">구글 가젯, 구글 스프레드시트 API, 구글 차트 API로 야구 핵을 만들어보자</a> 라는 글을 보고 떠올린 생각.</p>

<p>서버 개발을 하다 보면 효율적인 리포팅에 대해서 한두번쯤 고민해본다. 수없이 쌓이는 개발자 로그라든지, 동시 접속자나 아이템 판매량 등등의 통계 그래프라든지, GM들에게 노출할 다양한 사용자 액션 추적 기능 같은 것들이 있을텐데, 이런 걸 구글 apps 기반에 통합해버리면 어떨까 하는 생각이다.</p>

<p>요즘의 추세는 온라인으로 이 모든 정보를 확인할 수 있는 웹 기반 솔루션을 만드는 것일텐데, 그렇다면 가젯으로 만들어서 구글 시작 페이지에 넣고 권한 관리를 해버리면 되지 않을까? 자자. 이건 상상이니까 안되는 이유에 대해서는 고민하지 말자.</p>

<p>전사적으로 수많은 서버들의 상황을 한번에 모니터링하기에는 꽤 괜찮은 솔루션일 듯하다.  (물론 MS의 리포팅 서비스가 더 멋지긴 하겠다만..)</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/10/28/blob-quiz/">Blob Quiz</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-10-28T08:04:59+09:00" pubdate data-updated="true">Oct 28<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="http://upload.wikimedia.org/wikipedia/en/d/df/The_Blob_poster.jpg">요즘 고민하고 있는 문제인데, 보안상의 이유로 비유적으로 설명해보겠다. (실제로 이런 일을 하고 있는 건 아니다 -_-)</p>

<p>이글아이처럼 우리 국정원에서도, 1분 정도의 음성 통화를 대충 100K 로 압축할 수 있는 압축 알고리즘을 기반으로 하는 휴대폰 통화 감청 시스템을 구축한다고 가정하자.  하루에 10 테라바이트 씩 쌓이긴 하지만, 당연히 각 통화 데이터 끼리의 연관성은 없고, 오직 2개의 송신/수신 전화번호의 키값으로 구분될 뿐이다.</p>

<p>모든 데이터들은 프라이버시 보호보다는 HDD 부족으로 2주 정도만 지속되며, 오직 리만브라더즈 2명만 들을 수 있다. 물론 둘 다 바빠서 아무도 듣지 않을 수도 있지만, 그래도 무조건 남기긴 남겨야 하는 이 프로젝트를 당신이 맡게 되었다. (아싸 비유를 만들어내는 게 더 리얼하구나~)</p>

<p>문제는, 연기금을 모두 주가 부양에 써버린 나머지 PC 조립 서버 몇 대만으로 최대한 싸게 구현해야 한다면, 어떤 솔루션을 선택해야 할까? (한줄로 요약하면, <strong>자잘한 BLOB 들이 산더미처</strong><strong>럼 만들어질 때의 안정적인 관리 및 검색</strong>의 문제인데 검색의 비중이 상당히 낮은 케이스라고 할 수 있다.)</p>

<pre><code>- 파일 시스템 : 분산 컴퓨터들의 RAID로 보호되는 파일 시스템에 남기고, 검색은 그냥 폴더명으로.. 백업이 없어서 좀 무섭다.
- 파일 시스템 + 복제 : 안전을 위해 남기는 넘과 읽는 넘을 분리. 안 읽는 넘도 복제해야 한다는게 좀 아깝지만.
- 분산 데이터베이스 : blob insert 는 좀 힘들지만 어쨌든 검색은 쿼리다.
- 분산 데이터베이스 + 복제 : 역시 불필요한 복제의 딜레마는 마찬가지.
- 분산 파일 시스템 + 데이터베이스 : 검색은 파일 시스템, DB는 2차 백업으로... (이건 오버인가;;)
- 기가비트 이더넷 + HTTP : 분산 컴퓨터들을 기가비트 이더넷으로 묶고, HTTP 서버가 공유 폴더로 인식, Rest 방식으로 다운로드
- [in-memory 테이블이나 데이터베이스](http://en.wikipedia.org/wiki/In-memory_database): 어차피 용량의 한계로 안될 듯!
</code></pre>

<div>그러고보면 팝폴더 같은 파일 공유 서비스 회사에서, 어떻게 데이터를 관리하는지 궁금해지는구나.</div>


<div></div>


<div>&#8211; 추가 &#8211;</div>


<div></div>


<div>배래군의 조언에 의하면</div>


<div>

    - [memory mapped file](http://en.wikipedia.org/wiki/Memory-mapped_file)을 사용하려면 거의 무한한 크기를 지원하는 64비트 버전을 사용할 것
    - 사용자 증가로 인해 시스템을 확장할때 스트레스 받지 않는 방법을 사용할 것. 안그러면 lock-in 됨.

</div>


<div>분산 환경에서도 일관성있게 접근하려면 아무래도 중앙 집중화된 DB 인데, 용량의 제약이 있으니&#8230; 뭔가 하나의 URL로 분산된 컴퓨터들 어딘가에 저장된 리소스를 한번에 가져올 수 있는 솔루션이 뭐가 있지? </div>


<div></div>


<div>큰 flat 파일 안에 트랜잭션을 지원하는 small blob bulk insert & rarely select 가 빠른 무언가가 필요하다. 가상 파일 시스템중에서 찾아봐야 할까나~ 아니면 sqlite + virtual table + memory mapped file 라도 테스트해봐야 하나..</div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/10/24/variadic-macros/">Variadic Macros</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-10-24T09:26:13+09:00" pubdate data-updated="true">Oct 24<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>GCC 3.0 과 Visual Studio 2005 에서부터 지원하는 <a href="http://en.wikipedia.org/wiki/Variadic_macro">가변인자 매크로</a>는 <strong>VA_ARGS</strong> 로 치환된다. 알고보니 이게 1999년도에 제정된 <a href="http://en.wikipedia.org/wiki/C99">C99 표준안중 하나</a>였다는데, <a href="http://www.swallowstudio.com/wiki/doku.php?id=technicalarticles:variadicmacros">GCC에서는 약간 다른 방식도 지원</a>했던 모양이다.</p>

<p>[code language=&#8221;cpp&#8221;]</p>

<h1>define MY_LINUX_LOG(fmt,args&#8230;) printf(fmt,##args)</h1>

<h1>define MY_WIN_LOG(fmt,&#8230;) printf(fmt,<strong>VA_ARGS</strong>)</h1>

<p>&#8220;`</p>

<p>뭔가 있었던거 같은데 도저히 기억도 안나고 오후 무렵에는 인터넷도 안되어서 그냥 __noop 로 고쳤는데, 집에 와서 찾아보니 MSDN 전처리기 섹션에 버젓히 자리잡고 있었다. 쩝. (늙은건가!) 이 외에도 오늘 마이그레이션 과정에서 겪었던 내용을 조금 정리해보면&#8230;</p>

<pre><code>- __func__ / __PRETTY_FUNCTION__ 과 __FUNCTION__ : 이런건 #define 으로 해결 가능하다.
- sleep() 과 Sleep() : 초단위 계산 잘못하면 CPU를 99% 잡아먹는다. 헤헤.
- gettimeofday() 는 리눅스에서만 지원한다. [윈도우에서는 직접 구현](http://alones.kr/blog/654?TSSESSIONaloneskrblog=2182012b6093486515612f823d0561d8)해야 한다.
- random() 과 rand()
- 매크로를 이용해서 모든 .cpp 에다가 #stdafx.h 붙이기 -_-;
- buffer overflow 가 자주 발생하는 패턴을 정규식으로 찾아내서 일괄적으로 버퍼 크기 증가시키기
</code></pre>

<p>그 중에서도 압권은 바로 <a href="http://en.wikipedia.org/wiki/Variable-length_array">variable length array</a> 일 것이다. 물론 이건 GCC 에서만 가능한 일인데, 내일 출근해서 std::vector 로 고치고, 경고 레벨4로 다시 컴파일해봐야겠다. </p>

<p>[code language=&#8221;cpp&#8221;]
void func(int n)
{
    float  vals[n];
    //&#8230;.
}
 &#8220;`</p>

<p>그나저나, 일본에는 40살이 넘어도 리눅스에서 서버 프로그래밍을 한다던데&#8230; 웬지 그런 사회 풍조가 부러울 따름이다. 분명히 그 아저씨의 책상 옆에는 콜라 캔들이 정리되어 있고, vi 로 코딩하다가 make 걸어놓고 네트핵을 즐길 것 같은데 말이다.</p>

<p>[caption id=&#8221;&#8221; align=&#8221;aligncenter&#8221; width=&#8221;500&#8221; caption=&#8221;요즘 네트핵은 이정도다!&#8221;]<a href="http://cfs2.tistory.com/upload_control/download.blog?fhandle=YmxvZzM4NjMxQGZzMi50aXN0b3J5LmNvbTovYXR0YWNoLzAvMS5qcGc=" target="_blank"><img src="http://cfs2.tistory.com/upload_control/download.blog?fhandle=YmxvZzM4NjMxQGZzMi50aXN0b3J5LmNvbTovYXR0YWNoLzAvMS5qcGc=" title="요즘 네트핵은 이정도다!" ></a>[/caption]</p>

<p>어쨌든, 이로서 오늘 시작한 리눅스에서 윈도우로의 마이그레이션은 내일중으로는 완료될 듯!!</p>

<p>ps. 오늘 드디어 변태군의 야심작 <a href="http://game4.netmarble.net/prius/main.asp">프리우스 온라인</a>이 대망의 오픈 베타에 들어갔다. 회사에서 누가 해보길래 은근슬쩍 &#8220;제 후배가 이거 만들었어요&#8221; 라고 자랑을 하긴 했는데&#8230; ㅋㅋ 초반 다운 안되고 무사히 서비스되기를 기원해본다.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/10/23/tracking-solution-item-in-visual-studio/">Tracking Solution Item</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-10-23T08:22:15+09:00" pubdate data-updated="true">Oct 23<span>rd</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://boxcatstudio.files.wordpress.com/2009/07/vs_option.jpg"><img src="http://boxcatstudio.files.wordpress.com/2009/07/vs_option.jpg"></a></p>

<p>현재 편집기에 선택한 문서를 솔루션 탐색기에서 찾아주는 옵션이다. 프로젝트가 여러 개이거나 폴더 트리가 깊을 경우 유용하다. (Visual Studio 2005 이상)</p>

<p>아시는 분들도 꽤 많으시지만, <a href="http://suigui.com/">DDD(Debugging Driven Development)의 창시자</a>이신 모군도 모르는 옵션이라고 해서 한번 써본다.</p>

<p>ps. 소니군이 최근 <a href="http://sonee.com/253">미국 불황의 여파와 중국 올림픽 덕분에 캔슬된 비운의 프로젝트의 스크린샷</a>을 공개했으니 한번쯤 구경해주시기 바란다.</p>

<p><img src="http://cfs15.tistory.com/upload_control/download.blog?fhandle=YmxvZzk4OTRAZnMxNS50aXN0b3J5LmNvbTovYXR0YWNoLzAvMC5qcGc="></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/10/22/edit-pray/">Edit &amp; Pray</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-10-22T09:00:12+09:00" pubdate data-updated="true">Oct 22<span>nd</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="http://web.mit.edu/cat/Desktop/cat/images/pray.jpg"></p>

<blockquote><p>Changes in a system can be made in two primary ways. I like to call them* Edit And Pray *and *Cover and Modify.* Unfortunately, *Edit and Pray* is pretty much the industry standard.</p></blockquote>


<p>TDD를 쓰지 않는 대부분의 프로그래머들은 Edit &amp; Continue 보다는 Edit &amp; Pray 를 더 사랑한다. 물론 나도 컴파일러와 윈도우 커널와 쓰레드들에게 자주 빌기도 하지만, 언젠가부터 테스트 없이 일을 진행하면 아무리 실행이 잘되어도 마음 한구석이 편치 않게 되는 경우가 많아졌다. 테스트 통과 후 커밋할 때의 쾌감에 중독되었기 때문인데, 사소한 것까지 테스트한다고 잔소리를 들은 후에야 겨우 벗어날 수 있었다. 그래서 요즘에는 라이브러리 학습이나 개인적인 프로젝트에서만 테스트를 활용하고 있다. </p>

<p>최근, 새 프로젝트에서 한정된 시간안에 핵심적인 로직을 제외한 나머지 - 플랫폼, 데이터베이스, 네트워크 프레임워크 외 다수- 들을 마이그레이션하면서 성능과 안정성을 동시에 만족시켜야 하는, 그야말로 도전적인 과제를 맡았다. 이 <a href="http://www.xevious7.com/300">세마리 토끼를 한방에 잡아주는 은총알이 없는 거야</a> 당연하지만, 그렇다고 점진적으로 리팩토링해나가면서 지켜보는 것도 불가능한 상황이다. 비유적으로 말하자면, 새로 논밭을 사서 농사를 대충 짓다가 적당히 직불금을 받아먹은 후 양도세를 면제받은 후(응?), 기존의 집을 그대로 들어 올려서 새 토지에 얹어 놓고, 인테리어를 막판에 갈아 엎는 대공사를 할 수 밖에 없을 것 같다. 물론 기도를 빠뜨리면 안되겠지만.</p>

<p>어쨌거나 기회가 되면 <a href="http://reiot.cafe24.com/2008/07/04/google-test/">google test</a>를 써보고 싶은데, 이 대운하에 버금가는 공사에서 가능할 것인지 나도 참 궁금하다. 쉬귀군이 밥먹다가 말한 것처럼 삽질이 되면 안되는데&#8230; 후덜덜.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/page/32/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/page/30/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2011/09/21/wordpress-to-octopress/">Wordpress To Octopress</a>
      </li>
    
      <li class="post">
        <a href="/2011/07/09/jquery-proven-performance-tips-tricks/">jQuery Proven Performance Tips &amp; Tricks</a>
      </li>
    
      <li class="post">
        <a href="/2011/06/18/jquery-mobile-tip/">jQuery Mobile Tip</a>
      </li>
    
      <li class="post">
        <a href="/2011/06/18/clienpad-appspot-com/">clienpad.appspot.com</a>
      </li>
    
      <li class="post">
        <a href="/2011/04/15/ant-cookbook/">Ant Cookbook</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Github Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/reiot">@reiot</a> on Github
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'reiot',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("reiot", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/reiot" class="twitter-follow-button" data-show-count="false">Follow @reiot</a>
  
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Ray Yun -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'reiot';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
