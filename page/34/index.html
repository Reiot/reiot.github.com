
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Social Reiot</title>
  <meta name="author" content="Ray Yun">

  
  <meta name="description" content="구글 트렌드는 구글 검색의 패턴 및 통계를 보여주는 서비스다. 이번에 뭔가 리뉴얼되었다길래 한번 구경해봤다.가장 먼저 요즘 사내 이슈가 되고 있는 오픈 베타 서비스 시기는 언제로 하면 좋을까? 를 알아보기 위해 baseball 을 검색해봤다.사실 정답은 MLB 일...">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://reiot.com/page/34/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="http://s3.amazonaws.com/ender-js/jeesh.min.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Social Reiot" type="application/atom+xml">
  <!--Fonts from Google's Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>

</head>

<body  >
  <header role="banner"><hgroup>
  <h1><a href="/">Social Reiot</a></h1>
  
    <h2>Social Game Developer wandering in strange dungeon.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:reiot.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
<ul role=main-navigation>
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/07/02/google-trends/">Google Trends</a></h1>
    
    
      <p class="meta">
        





  



<time datetime="2008-07-02T07:37:19+09:00" pubdate  data-updated="true" >Jul 2<span>nd</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img class='' src='http://www.google.com/intl//trends/logo_sm.gif' width='' height='' alt='' title=''></p>

<p><a href="http://google.com/trends">구글 트렌드</a>는 <a href="http://googlekoreablog.blogspot.com/2008/06/blog-post_27.html">구글 검색의 패턴 및 통계를 보여주는 서비스</a>다. 이번에 뭔가 리뉴얼되었다길래 한번 구경해봤다.</p>

<p>가장 먼저 요즘 사내 이슈가 되고 있는 오픈 베타 서비스 시기는 언제로 하면 좋을까? 를 알아보기 위해 baseball 을 검색해봤다.</p>

<p><a href="http://boxcatstudio.files.wordpress.com/2009/07/baseball.png"><img class='' src='http://boxcatstudio.files.wordpress.com/2009/07/baseball.png' width='' height='' alt='' title=''></a></p>

<p>사실 정답은 MLB 일정과 맞춰야 한다는 뻔한 놈인데, 이건 baseball + MLB로 검색해보면 알 수 있다. 여기서 연관어의 중요성을 알 수 있다. :)</p>

<table style="display:inline;" border="0">
<tbody>
<tr>
<td style="white-space:nowrap;padding:0;">**baseball** </td>
<td>
<table class="bar" style="height:4px;" border="0" cellspacing="0" width="70">
<tbody>
<tr>
<td style="display:block;" bgcolor="#4684ee"></td>
</tr>
</tbody></table>
</td>
<td>1.00</td>
</tr>
</tbody></table>


<table style="display:inline;" border="0">
<tbody>
<tr>
<td style="white-space:nowrap;padding:0;">**mlb** </td>
<td>
<table class="bar" style="height:4px;" border="0" cellspacing="0" width="21">
<tbody>
<tr>
<td style="display:block;" bgcolor="#dc3912"></td>
</tr>
</tbody></table>
</td>
<td>0.30</td>
</tr>
</tbody></table>


<p><a href="http://boxcatstudio.files.wordpress.com/2009/07/baseball_mlb.png"><img class='' src='http://boxcatstudio.files.wordpress.com/2009/07/baseball_mlb.png' width='' height='' alt='' title=''></a></p>

<p>즉 무조건 내년 3월에는 오픈을 해야 한다는 소리가 된다. ㅠㅠ 뭐 이미 각오하고 있는 바이므로 이번엔 다른 걸 검색해보자. 미국에 야구 팬은 많은데 그 중에서 얼마나 많은 사람들이 야구 게임을 즐길까? 라는 고전적인 의문의 답을 찾아보고 싶었지만, 특별히 떠오르는 검색어가 없으므로 online baseball 과 fantasy baseball 을 찾아봤다.</p>

<table style="display:inline;" border="0">
<tbody>
<tr>
<td style="white-space:nowrap;padding:0;">**online baseball** </td>
<td>
<table class="bar" style="height:4px;" border="0" cellspacing="0" width="20">
<tbody>
<tr>
<td style="display:block;" bgcolor="#4684ee"></td>
</tr>
</tbody></table>
</td>
<td>1.00</td>
</tr>
</tbody></table>


<table style="display:inline;" border="0">
<tbody>
<tr>
<td style="white-space:nowrap;padding:0;">**online baseball game** </td>
<td>
<table class="bar" style="height:4px;" border="0" cellspacing="0" width="2">
<tbody>
<tr>
<td style="display:block;" bgcolor="#dc3912"></td>
</tr>
</tbody></table>
</td>
<td>0.10</td>
</tr>
</tbody></table>


<table style="display:inline;" border="0">
<tbody>
<tr>
<td style="white-space:nowrap;padding:0;">**fantasy baseball** </td>
<td>
<table class="bar" style="height:4px;" border="0" cellspacing="0" width="70">
<tbody>
<tr>
<td style="display:block;" bgcolor="#ff9900"></td>
</tr>
</tbody></table>
</td>
<td>3.50</td>
</tr>
</tbody></table>


<p><a href="http://boxcatstudio.files.wordpress.com/2009/07/onlinebaseball_fantasybaseball.png"><img class='' src='http://boxcatstudio.files.wordpress.com/2009/07/onlinebaseball_fantasybaseball.png' width='' height='' alt='' title=''></a></p>

<p>역시나 아직까지 미국 온라인 야구 시장은 실제 데이터를 기본으로 하는 환타지 야구에 비하면 10-20% 밖에 안되는 모양이다. (그리고 환타지 야구 역시 MLB 일정을 따라가고 있는 걸 확인할 수 있다.)</p>

<p>이번엔 우리의 적(이라고 쓰고 큰형님이라고 읽는다)인 MLB 시리즈들을 살펴보자.</p>

<table style="display:inline;" border="0">
<tbody>
<tr>
<td style="white-space:nowrap;padding:0;">**mlb 08** </td>
<td>
<table class="bar" style="height:4px;" border="0" cellspacing="0" width="24">
<tbody>
<tr>
<td style="display:block;" bgcolor="#4684ee"></td>
</tr>
</tbody></table>
</td>
<td>1.00</td>
</tr>
</tbody></table>


<table style="display:inline;" border="0">
<tbody>
<tr>
<td style="white-space:nowrap;padding:0;">**mlb 07** </td>
<td>
<table class="bar" style="height:4px;" border="0" cellspacing="0" width="30">
<tbody>
<tr>
<td style="display:block;" bgcolor="#dc3912"></td>
</tr>
</tbody></table>
</td>
<td>1.20</td>
</tr>
</tbody></table>


<table style="display:inline;" border="0">
<tbody>
<tr>
<td style="white-space:nowrap;padding:0;">**mlb the show** </td>
<td>
<table class="bar" style="height:4px;" border="0" cellspacing="0" width="69">
<tbody>
<tr>
<td style="display:block;" bgcolor="#ff9900"></td>
</tr>
</tbody></table>
</td>
<td>2.80</td>
</tr>
</tbody></table>


<p><a href="http://boxcatstudio.files.wordpress.com/2009/07/mlb08.png"><img class='' src='http://boxcatstudio.files.wordpress.com/2009/07/mlb08.png' width='' height='' alt='' title=''></a></p>

<p>웬지 매년 출시할 때마다 인기가 높아진다는 느낌이 든다. 아마도 판매량이 가장 높은 시기는 1사분기이리라. 웬지 씁쓸하니 이번엔 우리 게임에 대해서 한번 알아볼까 한다.</p>

<div style="padding-bottom:5px;padding-top:12px;">
<table style="display:inline;" border="0">
<tbody>
<tr>
<td style="white-space:nowrap;padding:0;">**real baseball** </td>
<td>
<table class="bar" style="height:4px;" border="0" cellspacing="0" width="22">
<tbody>
<tr>
<td style="display:block;" bgcolor="#4684ee"></td>
</tr>
</tbody></table>
</td>
<td>1.00</td>
</tr>
</tbody></table>
<table style="display:inline;" border="0">
<tbody>
<tr>
<td style="white-space:nowrap;padding:0;">**cal ripken** </td>
<td>
<table class="bar" style="height:4px;" border="0" cellspacing="0" width="70">
<tbody>
<tr>
<td style="display:block;" bgcolor="#dc3912"></td>
</tr>
</tbody></table>
</td>
<td>3.15</td>
</tr>
</tbody></table>
<table style="display:inline;" border="0">
<tbody>
<tr>
<td style="white-space:nowrap;padding:0;">**online baseball game** </td>
<td>
<table class="bar" style="height:4px;" border="0" cellspacing="0" width="21">
<tbody>
<tr>
<td style="display:block;" bgcolor="#ff9900"></td>
</tr>
</tbody></table>
</td>
<td>0.95</td>
</tr>
</tbody></table>
</div>


<p><a href="http://boxcatstudio.files.wordpress.com/2009/07/calripken.png"><img class='' src='http://boxcatstudio.files.wordpress.com/2009/07/calripken.png' width='' height='' alt='' title=''></a></p>

<p>우리 게임이 Ultimate baseball Online 에서 Cal Ripken&#8217;s Real Baseball로 이름을 바꾼게 올초였는데, 검색 패턴은 립켄 횽아랑 비슷한 것 같다. 더이상 자세한 설명은 구차하므로 생략한다.</p>

<p>다른 게임들은 어떨까? 팡야를 살펴보면 아마도 태국 > 인도네시아 > 필리핀 순으로 동남아에서 인기를 끄는 모양이다. 그런데 올초 Wii용 팡야가 출시되었음에도 검색 빈도가 점점 시들해지고 있다. ^<sup>;;;</sup></p>

<p><a href="http://boxcatstudio.files.wordpress.com/2009/07/pangya.png"><img class='' src='http://boxcatstudio.files.wordpress.com/2009/07/pangya.png' width='' height='' alt='' title=''></a></p>

<p>헬게이트 런던, 헉슬리, 길드워를 검색해보면 웬지 안타깝다.</p>

<table style="display:inline;" border="0">
<tbody>
<tr>
<td style="white-space:nowrap;padding:0;">**hellgate london** </td>
<td>
<table class="bar" style="height:4px;" border="0" cellspacing="0" width="70">
<tbody>
<tr>
<td style="display:block;" bgcolor="#4684ee"></td>
</tr>
</tbody></table>
</td>
<td>1.00</td>
</tr>
</tbody></table>


<table style="display:inline;" border="0">
<tbody>
<tr>
<td style="white-space:nowrap;padding:0;">**guild war** </td>
<td>
<table class="bar" style="height:4px;" border="0" cellspacing="0" width="10">
<tbody>
<tr>
<td style="display:block;" bgcolor="#dc3912"></td>
</tr>
</tbody></table>
</td>
<td>0.15</td>
</tr>
</tbody></table>


<table style="display:inline;" border="0">
<tbody>
<tr>
<td style="white-space:nowrap;padding:0;">**huxley** </td>
<td>
<table class="bar" style="height:4px;" border="0" cellspacing="0" width="24">
<tbody>
<tr>
<td style="display:block;" bgcolor="#ff9900"></td>
</tr>
</tbody></table>
</td>
<td>0.35</td>
</tr>
</tbody></table>


<p><a href="http://boxcatstudio.files.wordpress.com/2009/07/hellgate.png"><img class='' src='http://boxcatstudio.files.wordpress.com/2009/07/hellgate.png' width='' height='' alt='' title=''></a></p>

<p>이 외에도 Wii, 엑박, PS3 등 3대 콘솔들을 검색해보면 웬지 크리스마스때 장사가 잘 되는 모양이다.</p>

<div style="padding-bottom:5px;padding-top:12px;">
<table style="display:inline;" border="0">
<tbody>
<tr>
<td style="white-space:nowrap;padding:0;">**wii** </td>
<td>
<table class="bar" style="height:4px;" border="0" cellspacing="0" width="70">
<tbody>
<tr>
<td style="display:block;" bgcolor="#4684ee"></td>
</tr>
</tbody></table>
</td>
<td>1.00</td>
</tr>
</tbody></table>
<table style="display:inline;" border="0">
<tbody>
<tr>
<td style="white-space:nowrap;padding:0;">**xbox 360** </td>
<td>
<table class="bar" style="height:4px;" border="0" cellspacing="0" width="36">
<tbody>
<tr>
<td style="display:block;" bgcolor="#dc3912"></td>
</tr>
</tbody></table>
</td>
<td>0.52</td>
</tr>
</tbody></table>
<table style="display:inline;" border="0">
<tbody>
<tr>
<td style="white-space:nowrap;padding:0;">**ps3** </td>
<td>
<table class="bar" style="height:4px;" border="0" cellspacing="0" width="48">
<tbody>
<tr>
<td style="display:block;" bgcolor="#ff9900"></td>
</tr>
</tbody></table>
</td>
<td>0.70</td>
</tr>
</tbody></table>
</div>


<div style="padding-bottom:5px;padding-top:12px;"><a href="http://boxcatstudio.files.wordpress.com/2009/07/console.png"><img class='' src='http://boxcatstudio.files.wordpress.com/2009/07/console.png' width='' height='' alt='' title=''></a></div>


<div style="padding-bottom:5px;padding-top:12px;"></div>


<div style="padding-bottom:5px;padding-top:12px;">음&#8230; 피곤해서 오늘 검색 놀이는 여기까지. 뭔가 의미있는 통계 정보를 알아내려면 정확한 검색어와 연관어를 잘 찾아야 한다는 게 오늘의 교훈이 아닐까 싶다.</div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/07/02/google-apps/">Google Apps</a></h1>
    
    
      <p class="meta">
        





  



<time datetime="2008-07-02T06:26:04+09:00" pubdate  data-updated="true" >Jul 2<span>nd</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img class='' src='http://www.google.com/a/help/intl/ko/images/150x55.gif' width='' height='' alt='' title=''></p>

<p>회사 법인 카드를 빌려서 냉큼 <a href="http://google.com/a">google apps</a>를 신청했다. 비용은 고작 도메인값 $10/year.</p>

<p>예전에 이 서비스가 처음 나왔을 때 .com 이름으로 하려다가 <a href="http://whois.co.kr/">whois.co.kr</a>에서 CName 레코드 편집을 지원해주지 않아서 포기했다가, N모사에서 <a href="http://google.com/a">google apps</a>로 거의 마이그레이션했다는 이야기를 듣고 용기를 내서, 오늘자로 .net 이름을 구글에서 바로 등록해버렸다.</p>

<p>우리 회사의 경우 미국 본사랑 한국 지사 2군데에서 동시 접근 가능한 솔루션이 필요한데, 본사에다 설치하면 우리는 방화벽 + VPN 을 통해서 접근해야 해서 속도도 느리고, 또 주기적으로 시스템 보안 체크도 해줘야 하는 부담이 있다. (패스워드 1234로 쓰는 사람 정말 싫다..) 반대로 우리 인트라넷을 본사의 누군가가 접근하도록 포트를 열어주는 일도 생각보다 피곤한 일이다. 이걸 구글로 옮기면 속도도 빠르고 보안 관리도 신경쓰지 않아도 되니, <a href="http://news.cnet.com/8301-10784_3-9875714-7.html">쿠웨이트에서 발생한 ISP 캐시 문제</a> 같은 일만 안생기면 진짜 편할텐데&#8230; 회사 자산을 외부에 둔다는 걸 설득하는 일이 만만치 않아서 포기하고 있는 상태다.</p>

<p>게다가, 일전에 <a href="http://www.37signals.com/">37signals</a> 의 <a href="http://www.basecamphq.com/">basecamp</a> 서비스를 전사적으로 도입했다가 특유의 느린 반응 속도 때문에, 서서히 용도폐기되어 가는 걸 직접 겪었기 때문에, 이번에는 큰 욕심 없이 우리 회사 DBA랑 단둘이서 <a href="http://docs.google.com">google docs</a>랑 캘린더 위주로 테스트 삼아 써볼 계획이다. 쓰다가 효용성을 깨닫게 되면 어떻게든 누군가에게 전파되려니 하고 &#8216;긍정적&#8217;으로 생각중이다. 흘흘.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/05/22/teamwork-talent/">Teamwork &gt; Talent</a></h1>
    
    
      <p class="meta">
        





  



<time datetime="2008-05-22T09:04:25+09:00" pubdate  data-updated="true" >May 22<span>nd</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><blockquote><p>*&#8221;Talent wins games, but teamwork and intelligence wins championships.&#8221;* **<a class="extiw" title="Wikipedia:Michael Jordan" href="http://en.wikipedia.org/wiki/Michael_Jordan"></a>**</p><p>**[Michael Jordan](http://en.wikipedia.org/wiki/Michael_Jordan)**</p></blockquote>


<p>from <a href="http://developer.valvesoftware.com/wiki/Successful_Mod_Team_Tips">valve wiki</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/05/03/libjingle/">Libjingle</a></h1>
    
    
      <p class="meta">
        





  



<time datetime="2008-05-03T07:35:19+09:00" pubdate  data-updated="true" >May 3<span>rd</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>어제 출시된 <a href="https://partner.steamgames.com/documentation/api">SteamWorks 1.0 API</a> 을 살펴보다가 얘네들이 <a href="http://code.google.com/apis/talk/libjingle/index.html">libjingle </a>을 쓰고 있다는 사실을 발견했다.</p>

<blockquote><p>libjingle is a collection of open-source C++ code and sample applications  that enables you to build a peer-to-peer application. The code handles  creating a network connection (through NAT and firewall devices, relay  servers, and proxies), negotiating session details (codecs, formats,  etc.), and exchanging data. It also provides helper tasks such as parsing  XML, and handling network proxies.</p></blockquote>


<p>시간이 꽤 흘러 또 기억이 가물가물해졌지만, 역시나 홀펀칭은 <a href="http://www.ietf.org/rfc/rfc3489.txt">STUN</a> 인가보다.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/05/01/customize-wordpress-prologue-theme/">Customize Wordpress Prologue Theme</a></h1>
    
    
      <p class="meta">
        





  



<time datetime="2008-05-01T09:45:40+09:00" pubdate  data-updated="true" >May 1<span>st</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://boxcatstudio.files.wordpress.com/2009/07/prologue.png"><img class='' src='http://boxcatstudio.files.wordpress.com/2009/07/prologue-269x300.png' width='' height='' alt='' title=''></a></p>

<p>이런 저런 스트레스가 머리끝까지 다다른 어느날, 불현듯 팀 내에 저레벨(?) 커뮤니케이션의 필요성이 느껴져서, 얼마전부터 <a href="http://wordpress.com/blog/2008/01/28/introducing-prologue/">prologue </a>테마를 한글화해서 뒷담화 온라인이라는 이름으로 절찬리에 운영중이다. 며칠 쓰다보니 외부 링크를 보다 손쉽게 추가할 수 있게 해달라는 요청이 들어와서, Custom Field 를 저장하고 보여주는 기능을 구현해봤다.</p>

<p>가장 먼저 post-form.php 에 link 라는 이름의 input text 필드를 추가했다.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="x">&lt;input type=&quot;text&quot; name=&quot;link&quot; id=&quot;link&quot; autocomplete=&quot;off&quot;  /&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>이걸 link 라는 이름의 custom field 로 저장하기 위해서 function.php 에 다음과 같은 함수와 콜백을 추가했다.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="x">function add_link_custom_field($post_id) {</span>
</span><span class='line'><span class="x">if( $_POST[&#39;link&#39;] ) {</span>
</span><span class='line'><span class="x">add_post_meta($post_id, &#39;link&#39;, $_POST[&#39;link&#39;], true) or update_post_meta($post_id, &#39;link&#39;, $_POST[&#39;link&#39;]);</span>
</span><span class='line'><span class="x">}</span>
</span><span class='line'><span class="x">}</span>
</span><span class='line'><span class="x">add_action(&#39;publish_post&#39;, add_link_custom_field );</span>
</span></code></pre></td></tr></table></div></figure>


<p>이제 글을 작성할 때마다 link 폼으로 넘어온 값이 custom field 에 저장이 될 것이다. 다음은 이걸 화면에 아이콘으로 보여주는 코드를 살펴보자.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="cp">&lt;?php</span>
</span><span class='line'><span class="nv">$links</span> <span class="o">=</span> <span class="nx">get_post_custom_values</span><span class="p">(</span><span class="s1">&#39;link&#39;</span><span class="p">);</span>
</span><span class='line'><span class="k">if</span><span class="p">(</span><span class="nb">count</span><span class="p">(</span><span class="nv">$links</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'><span class="k">echo</span> <span class="s2">&quot;&lt;a href=&#39;&quot;</span> <span class="o">.</span> <span class="nv">$links</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">.</span> <span class="s2">&quot;&#39;&gt;&lt;img src=&#39;/blog/wp-content/uploads/link.jpg&#39;  /&gt;&lt;/a&gt;&quot;</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="cp">?&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<p>가끔은 정형화된 인트라넷에서는 쏟아낼 수 없는, 너무 소소하고 쓸데없는 잡담들을 펼쳐줄 공간이 회사원에게는 필요할지도 모르겠다. 물론 그걸 악용하고 소모적으로 사용하는 경우는 없어야겠지만. 결국은 쓰는 사람이 그 선을 잘 지켜줘야 할 게다. 그런 의미에서 확실히 자신의 얼굴을 보여준다는 건 참 괜찮은 아이디어인 듯하다.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/04/15/boost-with-visual-studio-2008-express/">Boost With Visual Studio 2008 Express</a></h1>
    
    
      <p class="meta">
        





  



<time datetime="2008-04-15T08:21:55+09:00" pubdate  data-updated="true" >Apr 15<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>visual studio express 시리즈들이 커맨드라인 빌드를 지원하지 않는다고만 알고 있었는데, 구글님께 여쭤보니 역시나 해결책이 있었다.</p>

<blockquote><p>bjam &#8211;toolset=msvc-9.0express &#8211;with-system &#8211;with-thread &#8211;with-date_time &#8211;with-regex &#8211;with-serialization &#8211;with-test &#8211;stagedir=. debug release link=static runtime-link=shared threading=multi stage</p></blockquote>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/04/05/boost-135/">Boost 1.35</a></h1>
    
    
      <p class="meta">
        





  



<time datetime="2008-04-05T19:23:38+09:00" pubdate  data-updated="true" >Apr 5<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>지난 달에 boost 1.34.1 을 일년만에 업그레이드해서 소스 트리에 넣었다가 느리다는 불평을 많이 들었는데, 금방 <a href="http://boost.org/users/news/version_1_35_0">1.35가 나와버렸다</a>. 이번에는 <a href="http://boost.org/libs/asio/index.html">ASIO 가 정식으로 포함</a>되었고, 그 외에 <a href="http://boost.org/libs/circular_buffer/index.html">Circular Buffer</a> 라든지 <a href="http://boost.org/libs/interprocess/index.html">Interprocess </a>같은 라이브러리들이 새로 추가되었다.</p>

<p>이 정도라면 boost 만으로도 game server 을 만들어내도 될 법한 분위기렸다. 누가 boost.reliable_udp 이라든지 boost.patch, boost.crash_dump 같은 거 만들어줬으면&#8230;</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/03/21/svn-mkactivity-403-forbidden/">SVN MKACTIVITY 403 Forbidden</a></h1>
    
    
      <p class="meta">
        





  



<time datetime="2008-03-21T09:13:37+09:00" pubdate  data-updated="true" >Mar 21<span>st</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>회사에서 <a href="http://www.subversionary.org/sspidomainauth">Collabnet Subversion 에 SSPI 를 연동</a>해서 별 문제없이 사용하던 어느 날, 저장소에 Boost 1.34.1 트리를 넣고 난 다음부터 update/commit 이 무지막지하게 느려졌었다. 혹시나 신 버전에서는 해결된 문제가 아닐까 해서 Collabnet 을 업그레이드했으나, 역시나 파일 개수가 많아서 생긴 문제였고, 날 잡아서 사용하지 않는 서드파티 라이브러리들을 모조리 삭제하고 난 후에야 그럭저럭 제 속도를 얻을 수 있었다.</p>

<p>그러나, 이게 끝이 아니었으니,  갑자기 미국에 출장간 일부 개발자들이 update는 되는데 commit이 안된다는 보고를 해왔다. 아파치 로그를 살펴보니</p>

<p>Access denied: &#8217;<username>&#8217; MKACTIVITY <repository-name>:</p>

<p>라는 메시지가 나왔다. 그렇다고 모두 안되면 다시 롤백이라도 하겠는데, 특정 사용자만 안되었고, 새로 만든 아이디를 만들어서 권한을 부여해도 안되고, 그런데 또 관리자 계정을 사용하면 되는 기묘한 현상이었다.</p>

<p>3-4 시간 정도 구글링해본 결과 도무지 해답을 찾을 수가 없어서, 포기하고 Collabnet Enterprise Subversion 을 구매하려다가 놀랄만한 가격 때문에 좌절해있던 찰라, 문제를 보고한 개발자가 <a href="http://www.alagad.com/go/blog-entry/subversion-mkactivity-and-403-forbidden-headaches">한방에 구글에서 해답</a>을 찾아내었다.  정답은 subversion 서버의 버전이 올라가면서 레파지토리 이름의 대소문자를 타이트하게 구분하게 되면서 생긴 문제였다. 결국 relocating만 하면 해결되는 것이었다는 슬픈 전설이 전해진다.</p>

<p>이 이야기의 교훈은, 구글 검색어를 어떻게 조합하냐에 따라 O(N<sup>2)으로</sup> 해결할 문제도 O(1)로 해결할  수 있다..일까?</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/03/17/boost-asio-udp-relay-server/">Boost::asio Udp Relay Server</a></h1>
    
    
      <p class="meta">
        





  



<time datetime="2008-03-17T07:32:43+09:00" pubdate  data-updated="true" >Mar 17<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>조만간 회사에서 쓸 일이 있을 것 같아서 만들어본 udp relay 서버. 하는 일이라고는 패킷을 잠시 저장해뒀다가 원래 주소로 쏘는 일인데, ASIO를 쓰면 얼마나 코드가 간단해질까 해서 만들어봤다. 이 코드는 서버에만 쓰고, 클라이언트에 붙일 넘은 IOCP까지는 필요없고 그냥 Win32 + winsock2 + 폴링 쓰레드로 만들어볼까 싶다.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
<span class='line-number'>134</span>
<span class='line-number'>135</span>
<span class='line-number'>136</span>
<span class='line-number'>137</span>
<span class='line-number'>138</span>
<span class='line-number'>139</span>
<span class='line-number'>140</span>
<span class='line-number'>141</span>
<span class='line-number'>142</span>
<span class='line-number'>143</span>
<span class='line-number'>144</span>
<span class='line-number'>145</span>
<span class='line-number'>146</span>
<span class='line-number'>147</span>
</pre></td><td class='code'><pre><code class='cpp'><span class='line'><span class="k">class</span> <span class="nc">udp_relay_server</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="k">struct</span> <span class="n">relay_policy</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="n">udp</span><span class="o">::</span><span class="n">endpoint</span> <span class="n">from_</span><span class="p">,</span> <span class="n">to_</span><span class="p">;</span>
</span><span class='line'>      <span class="n">DWORD</span> <span class="n">delay_</span><span class="p">;</span>
</span><span class='line'>  <span class="p">};</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">struct</span> <span class="n">relay_message</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="n">boost</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">message_</span><span class="p">;</span>
</span><span class='line'>      <span class="n">udp</span><span class="o">::</span><span class="n">endpoint</span> <span class="n">destination_</span><span class="p">;</span>
</span><span class='line'>      <span class="n">DWORD</span> <span class="n">expire_clock_</span><span class="p">;</span>
</span><span class='line'>  <span class="p">};</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">enum</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="n">MIN_SLEEP_DELAY</span> <span class="o">=</span> <span class="mi">10</span>
</span><span class='line'>  <span class="p">};</span>
</span><span class='line'>
</span><span class='line'><span class="k">public</span><span class="o">:</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">udp_relay_server</span><span class="p">(</span><span class="n">boost</span><span class="o">::</span><span class="n">asio</span><span class="o">::</span><span class="n">io_service</span><span class="o">&amp;</span> <span class="n">io_service</span><span class="p">,</span> <span class="kt">short</span> <span class="n">port</span><span class="p">)</span>
</span><span class='line'>      <span class="o">:</span> <span class="n">socket_</span><span class="p">(</span><span class="n">io_service</span><span class="p">,</span> <span class="n">udp</span><span class="o">::</span><span class="n">endpoint</span><span class="p">(</span><span class="n">udp</span><span class="o">::</span><span class="n">v4</span><span class="p">(),</span> <span class="n">port</span><span class="p">))</span>
</span><span class='line'>      <span class="p">,</span> <span class="n">timer_</span><span class="p">(</span><span class="n">io_service</span><span class="p">)</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="n">do_receive</span><span class="p">();</span>
</span><span class='line'>      <span class="n">do_timer</span><span class="p">();</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">udp_relay_server</span><span class="p">(</span><span class="n">boost</span><span class="o">::</span><span class="n">asio</span><span class="o">::</span><span class="n">io_service</span><span class="o">&amp;</span> <span class="n">io_service</span><span class="p">,</span> <span class="k">const</span> <span class="n">udp</span><span class="o">::</span><span class="n">endpoint</span> <span class="o">&amp;</span> <span class="n">endpoint_</span> <span class="p">)</span>
</span><span class='line'>      <span class="o">:</span> <span class="n">socket_</span><span class="p">(</span><span class="n">io_service</span><span class="p">,</span> <span class="n">endpoint_</span><span class="p">)</span>
</span><span class='line'>      <span class="p">,</span> <span class="n">timer_</span><span class="p">(</span><span class="n">io_service</span><span class="p">)</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="n">do_receive</span><span class="p">();</span>
</span><span class='line'>      <span class="n">do_timer</span><span class="p">();</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="kt">void</span> <span class="n">add_policy</span><span class="p">(</span> <span class="k">const</span> <span class="n">udp</span><span class="o">::</span><span class="n">endpoint</span> <span class="o">&amp;</span> <span class="n">from_</span><span class="p">,</span> <span class="k">const</span> <span class="n">udp</span><span class="o">::</span><span class="n">endpoint</span> <span class="o">&amp;</span> <span class="n">to_</span><span class="p">,</span> <span class="n">DWORD</span> <span class="n">delay</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">)</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="n">relay_policy</span> <span class="n">p</span><span class="p">;</span>
</span><span class='line'>      <span class="n">p</span><span class="p">.</span><span class="n">from_</span> <span class="o">=</span> <span class="n">from_</span><span class="p">;</span>
</span><span class='line'>      <span class="n">p</span><span class="p">.</span><span class="n">to_</span> <span class="o">=</span> <span class="n">to_</span><span class="p">;</span>
</span><span class='line'>      <span class="n">p</span><span class="p">.</span><span class="n">delay_</span> <span class="o">=</span> <span class="n">delay</span><span class="p">;</span>
</span><span class='line'>      <span class="n">policies</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="kt">void</span> <span class="n">add_policy</span><span class="p">(</span> <span class="n">string</span> <span class="n">from_addr</span><span class="p">,</span> <span class="kt">short</span> <span class="n">from_port</span><span class="p">,</span> <span class="n">string</span> <span class="n">to_addr</span><span class="p">,</span> <span class="kt">short</span> <span class="n">to_port</span><span class="p">,</span> <span class="n">DWORD</span> <span class="n">delay</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">)</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="n">udp</span><span class="o">::</span><span class="n">endpoint</span> <span class="n">from_</span><span class="p">(</span> <span class="n">boost</span><span class="o">::</span><span class="n">asio</span><span class="o">::</span><span class="n">ip</span><span class="o">::</span><span class="n">address</span><span class="o">::</span><span class="n">from_string</span><span class="p">(</span><span class="n">from_addr</span><span class="p">),</span> <span class="n">from_port</span> <span class="p">);</span>
</span><span class='line'>      <span class="n">udp</span><span class="o">::</span><span class="n">endpoint</span> <span class="n">to_</span><span class="p">(</span> <span class="n">boost</span><span class="o">::</span><span class="n">asio</span><span class="o">::</span><span class="n">ip</span><span class="o">::</span><span class="n">address</span><span class="o">::</span><span class="n">from_string</span><span class="p">(</span><span class="n">to_addr</span><span class="p">),</span> <span class="n">to_port</span> <span class="p">);</span>
</span><span class='line'>      <span class="n">add_policy</span><span class="p">(</span> <span class="n">from_</span><span class="p">,</span> <span class="n">to_</span><span class="p">,</span> <span class="n">delay</span> <span class="p">);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="kt">void</span> <span class="n">clear_policy</span><span class="p">()</span> <span class="p">{</span> <span class="n">policies</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span> <span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">private</span><span class="o">:</span>
</span><span class='line'>
</span><span class='line'>  <span class="kt">void</span> <span class="n">do_timer</span><span class="p">()</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="n">timer_</span><span class="p">.</span><span class="n">expires_from_now</span><span class="p">(</span><span class="n">boost</span><span class="o">::</span><span class="n">posix_time</span><span class="o">::</span><span class="n">milliseconds</span><span class="p">(</span><span class="n">MIN_SLEEP_DELAY</span><span class="p">));</span>
</span><span class='line'>      <span class="n">timer_</span><span class="p">.</span><span class="n">async_wait</span><span class="p">(</span><span class="n">boost</span><span class="o">::</span><span class="n">bind</span><span class="p">(</span><span class="o">&amp;</span><span class="n">udp_relay_server</span><span class="o">::</span><span class="n">handle_timer</span><span class="p">,</span><span class="k">this</span><span class="p">,</span><span class="n">boost</span><span class="o">::</span><span class="n">asio</span><span class="o">::</span><span class="n">placeholders</span><span class="o">::</span><span class="n">error</span><span class="p">));</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="kt">void</span> <span class="n">handle_timer</span><span class="p">(</span> <span class="k">const</span> <span class="n">boost</span><span class="o">::</span><span class="n">system</span><span class="o">::</span><span class="n">error_code</span> <span class="o">&amp;</span> <span class="n">ec</span> <span class="p">)</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="n">queue_</span><span class="p">.</span><span class="n">empty</span><span class="p">()</span> <span class="p">)</span>
</span><span class='line'>      <span class="p">{</span>
</span><span class='line'>          <span class="n">DWORD</span> <span class="n">cur_clock</span> <span class="o">=</span> <span class="n">GetTickCount</span><span class="p">();</span>
</span><span class='line'>          <span class="n">std</span><span class="o">::</span><span class="n">list</span><span class="o">&lt;</span> <span class="n">relay_message</span> <span class="o">&gt;::</span><span class="n">iterator</span> <span class="n">itr</span> <span class="o">=</span> <span class="n">queue_</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
</span><span class='line'>          <span class="k">while</span> <span class="p">(</span> <span class="n">itr</span> <span class="o">!=</span> <span class="n">queue_</span><span class="p">.</span><span class="n">end</span><span class="p">()</span> <span class="p">)</span>
</span><span class='line'>          <span class="p">{</span>
</span><span class='line'>              <span class="n">relay_message</span> <span class="o">&amp;</span> <span class="n">m</span> <span class="o">=</span> <span class="o">*</span><span class="n">itr</span><span class="p">;</span>
</span><span class='line'>              <span class="k">if</span> <span class="p">(</span> <span class="n">cur_clock</span> <span class="o">&gt;</span> <span class="n">m</span><span class="p">.</span><span class="n">expire_clock_</span> <span class="p">)</span>
</span><span class='line'>              <span class="p">{</span>
</span><span class='line'>                  <span class="n">socket_</span><span class="p">.</span><span class="n">async_send_to</span><span class="p">(</span><span class="n">boost</span><span class="o">::</span><span class="n">asio</span><span class="o">::</span><span class="n">buffer</span><span class="p">(</span><span class="o">*</span><span class="n">m</span><span class="p">.</span><span class="n">message_</span><span class="p">),</span> <span class="n">m</span><span class="p">.</span><span class="n">destination_</span><span class="p">,</span>
</span><span class='line'>                      <span class="n">boost</span><span class="o">::</span><span class="n">bind</span><span class="p">(</span><span class="o">&amp;</span><span class="n">udp_relay_server</span><span class="o">::</span><span class="n">handle_send</span><span class="p">,</span> <span class="k">this</span><span class="p">,</span> <span class="n">m</span><span class="p">.</span><span class="n">message_</span><span class="p">,</span> <span class="n">boost</span><span class="o">::</span><span class="n">asio</span><span class="o">::</span><span class="n">placeholders</span><span class="o">::</span><span class="n">error</span><span class="p">,</span> <span class="n">boost</span><span class="o">::</span><span class="n">asio</span><span class="o">::</span><span class="n">placeholders</span><span class="o">::</span><span class="n">bytes_transferred</span><span class="p">)</span> <span class="p">);</span>
</span><span class='line'>                  <span class="n">itr</span> <span class="o">=</span> <span class="n">queue_</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">itr</span><span class="o">++</span><span class="p">);</span>
</span><span class='line'>              <span class="p">}</span>
</span><span class='line'>              <span class="k">else</span>
</span><span class='line'>              <span class="p">{</span>
</span><span class='line'>                  <span class="n">itr</span><span class="o">++</span><span class="p">;</span>
</span><span class='line'>              <span class="p">}</span>
</span><span class='line'>          <span class="p">}</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>      <span class="n">do_timer</span><span class="p">();</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="kt">void</span> <span class="n">do_receive</span><span class="p">()</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="n">socket_</span><span class="p">.</span><span class="n">async_receive_from</span><span class="p">(</span>
</span><span class='line'>          <span class="n">boost</span><span class="o">::</span><span class="n">asio</span><span class="o">::</span><span class="n">buffer</span><span class="p">(</span><span class="n">recv_buffer_</span><span class="p">),</span> <span class="n">remote_endpoint_</span><span class="p">,</span>
</span><span class='line'>          <span class="n">boost</span><span class="o">::</span><span class="n">bind</span><span class="p">(</span><span class="o">&amp;</span><span class="n">udp_relay_server</span><span class="o">::</span><span class="n">handle_receive</span><span class="p">,</span> <span class="k">this</span><span class="p">,</span>
</span><span class='line'>          <span class="n">boost</span><span class="o">::</span><span class="n">asio</span><span class="o">::</span><span class="n">placeholders</span><span class="o">::</span><span class="n">error</span><span class="p">,</span>
</span><span class='line'>          <span class="n">boost</span><span class="o">::</span><span class="n">asio</span><span class="o">::</span><span class="n">placeholders</span><span class="o">::</span><span class="n">bytes_transferred</span><span class="p">));</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="kt">void</span> <span class="n">handle_receive</span><span class="p">(</span><span class="k">const</span> <span class="n">boost</span><span class="o">::</span><span class="n">system</span><span class="o">::</span><span class="n">error_code</span><span class="o">&amp;</span> <span class="n">error</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">size_t</span> <span class="n">bytes_transferred</span><span class="p">)</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">error</span><span class="p">)</span>
</span><span class='line'>      <span class="p">{</span>
</span><span class='line'>          <span class="kt">bool</span> <span class="n">bRelayed</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</span><span class='line'>          <span class="k">for</span><span class="p">(</span><span class="n">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">policies</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="p">;</span> <span class="n">i</span> <span class="o">++</span> <span class="p">)</span>
</span><span class='line'>          <span class="p">{</span>
</span><span class='line'>              <span class="n">relay_policy</span> <span class="o">&amp;</span> <span class="n">p</span> <span class="o">=</span> <span class="n">policies</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
</span><span class='line'>              <span class="k">if</span> <span class="p">(</span> <span class="n">p</span><span class="p">.</span><span class="n">from_</span> <span class="o">==</span> <span class="n">remote_endpoint_</span> <span class="p">)</span>
</span><span class='line'>              <span class="p">{</span>
</span><span class='line'>                  <span class="n">udp</span><span class="o">::</span><span class="n">endpoint</span> <span class="n">relay_to</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">to_</span><span class="p">);</span>
</span><span class='line'>                  <span class="n">boost</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">message</span><span class="p">(</span><span class="k">new</span> <span class="n">string</span><span class="p">(</span><span class="n">recv_buffer_</span><span class="p">.</span><span class="n">data</span><span class="p">(),</span><span class="n">bytes_transferred</span><span class="p">));</span>
</span><span class='line'>                  <span class="k">if</span> <span class="p">(</span> <span class="n">p</span><span class="p">.</span><span class="n">delay_</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">)</span>
</span><span class='line'>                  <span class="p">{</span>
</span><span class='line'>                      <span class="n">relay_message</span> <span class="n">m</span><span class="p">;</span>
</span><span class='line'>                      <span class="n">m</span><span class="p">.</span><span class="n">message_</span> <span class="o">=</span> <span class="n">message</span><span class="p">;</span>
</span><span class='line'>                      <span class="n">m</span><span class="p">.</span><span class="n">destination_</span> <span class="o">=</span> <span class="n">relay_to</span><span class="p">;</span>
</span><span class='line'>                      <span class="n">m</span><span class="p">.</span><span class="n">expire_clock_</span> <span class="o">=</span> <span class="n">GetTickCount</span><span class="p">()</span> <span class="o">+</span> <span class="n">p</span><span class="p">.</span><span class="n">delay_</span><span class="p">;</span>
</span><span class='line'>                      <span class="n">queue_</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span> <span class="n">m</span> <span class="p">);</span>
</span><span class='line'>                  <span class="p">}</span>
</span><span class='line'>                  <span class="k">else</span>
</span><span class='line'>                  <span class="p">{</span>
</span><span class='line'>                      <span class="n">do_send</span><span class="p">(</span> <span class="n">message</span><span class="p">,</span> <span class="n">relay_to</span> <span class="p">);</span>
</span><span class='line'>                  <span class="p">}</span>
</span><span class='line'>                  <span class="n">bRelayed</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span><span class='line'>                  <span class="k">break</span><span class="p">;</span>
</span><span class='line'>              <span class="p">}</span>
</span><span class='line'>          <span class="p">}</span>
</span><span class='line'>          <span class="n">do_receive</span><span class="p">();</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="kt">void</span> <span class="n">do_send</span><span class="p">(</span> <span class="n">boost</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">message</span><span class="p">,</span> <span class="k">const</span> <span class="n">udp</span><span class="o">::</span><span class="n">endpoint</span> <span class="o">&amp;</span> <span class="n">destination</span> <span class="p">)</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="n">socket_</span><span class="p">.</span><span class="n">async_send_to</span><span class="p">(</span><span class="n">boost</span><span class="o">::</span><span class="n">asio</span><span class="o">::</span><span class="n">buffer</span><span class="p">(</span><span class="o">*</span><span class="n">message</span><span class="p">),</span> <span class="n">destination</span><span class="p">,</span>
</span><span class='line'>          <span class="n">boost</span><span class="o">::</span><span class="n">bind</span><span class="p">(</span><span class="o">&amp;</span><span class="n">udp_relay_server</span><span class="o">::</span><span class="n">handle_send</span><span class="p">,</span> <span class="k">this</span><span class="p">,</span>
</span><span class='line'>              <span class="n">message</span><span class="p">,</span> <span class="n">boost</span><span class="o">::</span><span class="n">asio</span><span class="o">::</span><span class="n">placeholders</span><span class="o">::</span><span class="n">error</span><span class="p">,</span> <span class="n">boost</span><span class="o">::</span><span class="n">asio</span><span class="o">::</span><span class="n">placeholders</span><span class="o">::</span><span class="n">bytes_transferred</span><span class="p">)</span> <span class="p">);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="kt">void</span> <span class="n">handle_send</span><span class="p">(</span><span class="n">boost</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">message</span><span class="p">,</span> <span class="k">const</span> <span class="n">boost</span><span class="o">::</span><span class="n">system</span><span class="o">::</span><span class="n">error_code</span><span class="o">&amp;</span> <span class="n">error</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">size_t</span> <span class="n">bytes_transferred</span> <span class="p">)</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">udp</span><span class="o">::</span><span class="n">socket</span> <span class="n">socket_</span><span class="p">;</span>
</span><span class='line'>  <span class="n">udp</span><span class="o">::</span><span class="n">endpoint</span> <span class="n">remote_endpoint_</span><span class="p">;</span>
</span><span class='line'>  <span class="n">boost</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="kt">char</span><span class="p">,</span> <span class="mi">128</span><span class="o">&gt;</span> <span class="n">recv_buffer_</span><span class="p">;</span>
</span><span class='line'>  <span class="n">vector</span><span class="o">&lt;</span><span class="n">relay_policy</span><span class="o">&gt;</span> <span class="n">policies</span><span class="p">;</span>
</span><span class='line'>  <span class="n">boost</span><span class="o">::</span><span class="n">asio</span><span class="o">::</span><span class="n">deadline_timer</span> <span class="n">timer_</span><span class="p">;</span>
</span><span class='line'>  <span class="n">std</span><span class="o">::</span><span class="n">list</span><span class="o">&lt;</span> <span class="n">relay_message</span> <span class="o">&gt;</span> <span class="n">queue_</span><span class="p">;</span>
</span><span class='line'><span class="p">};</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/03/02/rbo-on-cnn/">제가 참가했던 프로젝트가 CNN을 탔습니다</a></h1>
    
    
      <p class="meta">
        





  



<time datetime="2008-03-02T05:59:44+09:00" pubdate  data-updated="true" >Mar 2<span>nd</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://nckstudio.com/2008/02/29/rbo-on-cnn/"><img class='' src='http://nckstudio.com/wp-content/uploads/2008/02/ripken.jpg' width='' height='' alt='' title=''></a></p>

<p><a href="http://nckstudio.com/">제가 몸담고 있는 회사</a>에서 <a href="http://www.playrealbaseball.com/">서비스중인 게임</a>이 <a href="http://www.cnn.com/video/#/video/sports/2008/02/28/intv.cal.ripken.cnn?iref=videosearch">CNN 방송에 등장</a>했습니다.  <a href="http://www.youtube.com/watch?v=Rhq9ZcZ-_U0">유투브에도 해당 방송 분량</a>이 따로 올라왔네요. 언뜻 보기엔 좀 오래된 게임처럼 보이지만,  정말로 오래된 게임이라서 그렇습니다 :(</p>

<p>저도 저 게임의 서버와 P2P, DB쪽 유지 보수 작업을 잠시 맡았다가, 지금은 저 게임의 후속작을 개발중입니다.  혹시나 MLB 2k7 이나 MLB 07 같은 리얼 온라인 야구 게임에 관심있는 개발자분들이 계시다면 <a href="http://reiot.cafe24.com/contact/">연락</a> 바랍드립니다. 참고로 <a href="http://kini.tistory.com/461">미국에서는 불세출의 야구 영웅</a>이라고 칭송받지만, 우리 회사에서는 그냥 횽아라고 불리는 <a href="http://en.wikipedia.org/wiki/Cal_Ripken,_Jr.">칼 립켄 주니어</a>는 저희 회사의 주주이기도 합니다.</p>

<p>see also:</p>

<pre><code>- [http://nckstudio.com/2008/02/29/rbo-on-cnn/](http://nckstudio.com/2008/02/29/rbo-on-cnn/)
</code></pre>
</div>
  
  


    </article>
  
  <nav class="pagination">
    <div>
      
        <a class="prev" href="/page/35/">&larr; Older</a>
      
      <a href="/blog/archives">Blog Archives</a>
      
      <a class="next" href="/page/33/">Newer &rarr;</a>
      
    </div>
  </nav>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2011/09/21/wordpress-to-octopress/">Wordpress To Octopress</a>
      </li>
    
      <li class="post">
        <a href="/2011/07/09/jquery-proven-performance-tips-tricks/">jQuery Proven Performance Tips &amp; Tricks</a>
      </li>
    
      <li class="post">
        <a href="/2011/06/18/jquery-mobile-tip/">jQuery Mobile Tip</a>
      </li>
    
      <li class="post">
        <a href="/2011/06/18/clienpad-appspot-com/">clienpad.appspot.com</a>
      </li>
    
      <li class="post">
        <a href="/2011/04/15/ant-cookbook/">Ant Cookbook</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Github Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/reiot">@reiot</a> on Github
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'reiot',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("reiot", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/reiot" class="twitter-follow-button" data-width="208px" data-show-count="false">Follow @reiot</a>
  
</section>




  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2011 - Ray Yun -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
    (function () {
      var disqus_shortname = 'reiot';
      
        
        var disqus_script = 'count.js'
      

      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>


  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-247024-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


  
  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>


  
  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>


</body>
</html>
